"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1781],{80837:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(87363);const s=e=>{(0,n.useEffect)(()=>{const t=document.body.style.overflow;return e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=t}},[e])}},78339:(e,t,o)=>{o.d(t,{D:()=>s});var n=o(87363);function s(e){const t=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>{t.current=e},[e]),t.current}},65381:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U}),o(33332);var n=o(57233),s=o(63904),a=o.n(s),r=o(87363),l=o.n(r),c=o(38225),i=o(96533),u=o(50678),p=o(4522),d=o(61712),C=o(33376),m=o(57627),h=o(36329),f=o(74344),_=o(55990),b=o(39138);const x=a().with("game-menu-icon"),k=function(e){const t=(0,b.T)();return(0,m.jsx)("span",{className:x(),children:(0,m.jsx)(_.Z,{alt:t("common.menu"),type:`game-menu-${e.tone}`})})};var y=o(79090),v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;const N=e=>{var t=e,{name:o}=t,n=((e,t)=>{var o={};for(var n in e)O.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&v)for(var n of v(e))t.indexOf(n)<0&&w.call(e,n)&&(o[n]=e[n]);return o})(t,["name"]);return(0,y.i)()(o,n)},P=a().with("no-ads-popup"),T=({darkTheme:e,getText:t,onActionButtonClick:o,onCloseButtonClick:n,type:s})=>(0,m.jsxs)("div",{className:P("content"),children:[(0,m.jsx)("div",{className:P("text-wrapper"),children:(0,m.jsx)("p",{className:P("text"),children:(0,m.jsx)(N,{name:"game"===s?"no-ads.popup.text.new":"no-ads.popup.text",params:{currencies:t("payments.currencies",{number:1}).toLowerCase(),icon:(0,m.jsx)(k,{tone:e?"white":"black"})}})})}),"game"===s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("hr",{className:"separator"}),(0,m.jsx)(h.z,{className:P("action-button"),size:40,view:"primary",onClick:o,children:t("no-ads.popup.button.text")})]}),(0,m.jsx)(f.Z,{mix:P("close-button"),type:"popup-inner",onClick:n})]});var g=o(43774),j=o(68927),A=o(93335),D=o(29789),E=o(94365),L=o(76054),S=o(29513);o(27148);const B=a().with("no-ads-popup"),U=l().memo(({anchorRef:e,onClick:t,onClose:o,scopeRef:s,type:a,used:h})=>{const f=l().useContext(u.Z),_=(0,c.C)(e=>e.getText),b=(0,c.C)(i.Up),x=(0,c.C)(e=>e.i18n),[k,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>(y(!0),(0,d.NF)({},"catalog"===a?C.Ji.NO_ADS_CATALOG_POPUP_SHOWN:C.Ji.NO_ADS_GAME_POPUP_SHOWN),()=>{y(!1)}),[a]);const{onActionButtonClick:v,onCloseButtonClick:O,onContentClick:w,onDrawerClose:N}=(({onClick:e,onClose:t,type:o})=>{const n=(0,c.T)(),{startPlatformProductPurchase:s}=(0,D.O)(),a=(0,j.s0)(),l=(0,j.TH)(),i=(0,r.useCallback)(()=>{n((0,A.cy)(!1)),L.Z.addShowToStorageData(o)},[n,o]),u=(0,r.useCallback)(()=>{n((0,A.cy)(!1))},[n]),p=(0,r.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),i(),null==e||e(t)},[e,i]);return{onDrawerClose:u,onCloseButtonClick:(0,r.useCallback)(()=>{i(),null==t||t(),(0,d.NF)({},C.Ji.CLOSE_BUTTON_CLICK,{source:S.h0.NO_ADS_POPUP})},[i,t]),onContentClick:(0,r.useCallback)(e=>{a({pathname:S.WP,search:(0,E.Q)(l.search)}),p(e)},[a,l.search,p]),onActionButtonClick:(0,r.useCallback)(e=>{p(e),(0,d.NF)({},C.Ji.NO_ADS_GAME_POPUP_BUTTON_CLICKED),(0,g.v_)({on:"new_platform_product_purchase"})?s():n((0,A.Lu)({isVisible:!0}))},[n,p,s])}})({type:a,onClick:t,onClose:o});return(null==x?void 0:x.loaded)?(0,m.jsx)(n.GI,{anchor:"catalog"===a?e:void 0,className:(0,p.E)(B("popup"),B({type:a})),"data-testid":"no-ads-popup-popup",direction:"bottom",keepMounted:!1,scope:s||f.rootRef,tail:"catalog"===a?(0,m.jsx)(n.Xs,{fillClassName:B("tail")}):void 0,visible:k&&!h,onClick:"catalog"===a?w:void 0,children:(0,m.jsx)(T,{darkTheme:b,getText:_,type:a,onActionButtonClick:v,onCloseButtonClick:O})}):(null==x||x.loadFullTranslate(),null)})},74344:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(57627),s=o(63904),a=o.n(s),r=o(87363),l=o(30928),c=o(55990),i=o(61712),u=o(55222),p=o(36850),d=o(33376),C=Object.defineProperty,m=(e,t,o)=>(((e,t,o)=>{t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const h=a().with("close-button");class f extends r.PureComponent{constructor(){super(...arguments),m(this,"handleClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.disabled||(0,p.D)(()=>{var e;this.props.onClick(u.hz.cross),(0,i.NF)({},d.Ji.CLOSE_BUTTON_CLICK,{source:null!=(e=this.props.source)?e:""})})})}render(){const{color:e,"data-testid":t,disabled:o,mix:s,type:a,getText:r}=this.props;return(0,n.jsx)(c.Z,{alt:r("common.close"),className:`${h({color:e,disabled:o,type:a})} ${s}`,"data-testid":t,size:"m",onClick:this.handleClick})}}m(f,"defaultProps",{mix:"",onClick:()=>{}});const _=(0,l.$j)(function(e){return{getText:e.getText}})(f)},79090:(e,t,o)=>{o.d(t,{i:()=>a});var n=o(38225),s=o(94867);const a=()=>(0,n.C)(s.P3)},36850:(e,t,o)=>{o.d(t,{D:()=>n});const n=e=>{if("undefined"==typeof window)throw new Error("Function must be called in browser env");window.requestAnimationFrame(()=>{window.setTimeout(e,0)})}},27148:(e,t,o)=>{o.r(t)}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/yandex/NoAdsPopup.component.async.43b0fbd0d87493132b1e.js.map