"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6563],{1472:(e,t,i)=>{i.d(t,{H:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"HorizontalAccentThumbGameInfo.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(5123).then(i.bind(i,74124)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>74124},{resolveComponent:e=>e.HorizontalAccentThumbGameInfo})},73510:(e,t,i)=>{i.d(t,{P:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"VerticalAccentThumbGameInfo.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(8414).then(i.bind(i,97620)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>97620},{resolveComponent:e=>e.VerticalAccentThumbGameInfo})},51939:(e,t,i)=>{i.d(t,{Z:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"Feedback.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(7110).then(i.bind(i,86750)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>86750},{ssr:!1})},21128:(e,t,i)=>{i.d(t,{V:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"ContinuePlayingBadge.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(7292).then(i.bind(i,77108)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>77108},{resolveComponent:e=>e.ContinuePlayingBadge})},44468:(e,t,i)=>{i.d(t,{L:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"ContinuePlayingOverlay.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(3509).then(i.bind(i,70691)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>70691},{resolveComponent:e=>e.ContinuePlayingOverlay})},17522:(e,t,i)=>{i.d(t,{Z:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"ShowMore.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(3670).then(i.bind(i,95481)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>95481},{})},69706:(e,t,i)=>{i.d(t,{Z:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"UserActivityPopup.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(987).then(i.bind(i,68752)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>68752},{})},64151:(e,t,i)=>{i.d(t,{$:()=>r});i(57627);const r=(0,i(97787).Z)({resolved:{},chunkName:()=>"GameReactionsTooltip.component.async",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(7669).then(i.bind(i,67382)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>67382},{resolveComponent:e=>e.GameReactionsTooltip})},96537:(e,t,i)=>{i.d(t,{r:()=>y});var r=i(57627),a=i(87363),o=i(75303),n=i(62218);const s={none:"link-critical-module__none--U_htd",primary:"link-critical-module__primary--qJboj",secondary:"link-critical-module__secondary--HlVX2",accent:"link-critical-module__accent--inLQs",inverse:"link-critical-module__inverse--zwwgI"};var l=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=(e,t,i)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,g=(e,t)=>{for(var i in t||(t={}))m.call(t,i)&&h(e,i,t[i]);if(u)for(var i of u(t))p.call(t,i)&&h(e,i,t[i]);return e},v=(e,t)=>c(e,d(t));const _=(0,a.forwardRef)((e,t)=>{let i=e,{href:l,children:c,onClick:d,className:h,view:_="none",to:y}=i,f=((e,t)=>{var i={};for(var r in e)m.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&p.call(e,r)&&(i[r]=e[r]);return i})(i,["href","children","onClick","className","view","to"]);const b=void 0===y&&void 0===l,w=(0,a.useCallback)(e=>{b&&e.preventDefault(),null==d||d(e)},[d,b]);let C=e.rel;"_blank"===e.target&&void 0!==C&&-1===C.indexOf("noopener")&&(C=`${C} noopener`);const S=(({view:e="none"})=>(0,n.y)(s.none,s[e]))({view:_});return void 0!==y?(0,r.jsx)(o.rU,v(g({},f),{className:(0,n.y)(S,h),ref:t,rel:C,to:y,onClick:w,children:c})):void 0!==l?(0,r.jsx)("a",v(g({},f),{className:(0,n.y)(S,h),href:l,ref:t,rel:C,onClick:w,children:c})):(0,r.jsx)("span",{className:(0,n.y)(S,h),onClick:w,children:c})});_.displayName="Link";const y=(0,a.memo)(_)},71277:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(87363),a=i(77314),o=i(76753),n=i(66490),s=i(13189),l=i(2592);i(96423);const c=(0,r.memo)(()=>{const{bundle:e,deviceType:t}=(0,a.b)(),i=e?()=>(0,s.d)(e,t,!1,!0):()=>{},r=(0,n.D)(i,l.WT);return(0,o.q)(()=>((0,s.d)(e,t,!1),window.addEventListener("resize",r,{passive:!0}),window.addEventListener("orientationchange",r,{passive:!0}),window.addEventListener("pagehide",i,{passive:!0}),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r),window.removeEventListener("pagehide",i)})),null})},13504:(e,t,i)=>{i.d(t,{Z:()=>w});var r=i(57627),a=i(24540),o=i(63904),n=i.n(o),s=i(87363),l=i(4522);const c=n().with("age-rating-badge"),d=({ageRating:e,mix:t=""})=>(0,r.jsx)("div",{className:(0,l.E)(c(),t),children:e});var u=i(47018),m=i(55990);const p={direct:"badge.direct",featureFrame:"badge.feature_frame",new:"badge.new",promo:"badge.promo",top:"badge.top"},h=new Set(Object.values(p)),g={[p.direct]:{background:"--color-bg-type-direct",text:"--color-color-type-direct"},[p.new]:{background:"--color-bg-type-new",text:"--color-color-type-new"},[p.promo]:{background:"--color-turquoise-500",text:"--color-turquoise-900"},[p.top]:{background:"--color-yellow-450",text:"--color-yellow-1000"},[p.featureFrame]:void 0},v=e=>{if((e=>h.has(e))(e))return g[e]};var _=Object.defineProperty;const y=n().with("game-badges"),f={[p.direct]:()=>(0,r.jsx)(m.Z,{type:"thunderbolt"}),[p.new]:void 0,[p.top]:void 0,[p.promo]:void 0,[p.featureFrame]:void 0};class b extends s.Component{constructor(){var e,t;super(...arguments),t=()=>{const{type:e,badgeTitle:t,mix:i}=this.props;if(!e)return null;const o=v(e),n=(e=>{if(e)return f[e]})(e);return o?(0,r.jsx)(a.C,{colorsCSSProps:o,icon:n,mix:(0,l.E)(i,y("sticky-badge")),text:t,title:t},"sticky-badge"):null},((e,t,i)=>{t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(this,"symbol"!=typeof(e="getStickyBadge")?e+"":e,t)}render(){const{ageRating:e,gqRating:t,mix:i="",noStickyBadges:a}=this.props,o=[],n=a?null:this.getStickyBadge();return n&&o.unshift(n),e&&o.unshift((0,r.jsx)(d,{ageRating:e,mix:(0,l.E)(y("age-rating-badge"),i)},"age-rating")),t&&o.unshift((0,r.jsx)(u.Z,{isBackgroundTransparent:!0,isCornered:!0,mix:(0,l.E)(y("game-quality-badge"),i),value:t,withoutText:!0},"quality-score")),o}}const w=(0,s.memo)(b)},59352:(e,t,i)=>{i.d(t,{Z:()=>N,V:()=>D});var r=i(57627),a=i(63904),o=i.n(a),n=i(27987),s=i(87363),l=i(68927),c=i(93335),d=i(38225),u=i(77314),m=i(4522),p=i(78783),h=i(61712),g=i(55222),v=i(36850),_=i(50012),y=i(99251);const f="GameInfoPageUrl-critical-catalog-module__root--euBRo";var b=i(61059),w=Object.defineProperty,C=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,k=(e,t,i)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,P=(e,t)=>{for(var i in t||(t={}))S.call(t,i)&&k(e,i,t[i]);if(C)for(var i of C(t))x.call(t,i)&&k(e,i,t[i]);return e};var I=i(96896),T=i(7318),j=i(43247),O=i(24046),z=i(33376);const E=o(),L=(0,T.Z)([T.n.onClickGamePage],z.SS.GAME)(e=>{const{actionSource:t,children:i,game:a,mix:o,onClick:w,onClickGamePage:C,onRef:S,listType:x}=e,k=(0,d.T)(),{categoryDataMappedByID:I}=(0,u.b)(),T=(0,l.TH)(),j=(0,l.UO)(),O=(0,l.s0)(),z=(0,d.C)(e=>e.user.payCurrency),[E,L]=(0,s.useState)(!1);(0,s.useEffect)(()=>{E&&(0,_.E)(T,j)!==a.appID.toString()&&L(!1)},[j,T,E,a.appID]);const D=(0,s.useMemo)(()=>(0,p.b)({categoryDataMappedByID:I,game:a,payCurrency:z}),[I,a,z]),N="source"in a?a.source:void 0,R=(0,s.useCallback)(()=>{const e=new URLSearchParams;var t,i,r;e.append("app",a.appID.toString()),L(!0),O({hash:e.toString(),search:T.search},{state:{gameSource:N,isInternalStep:!0}}),history.replaceState({isInternalStep:!0},document.title,(t=a.appID,i=(0,y.e)().pathname,r=T.search,"/games/"!==i&&(i=(0,b.D)(i)),1===r.length&&"?"===r&&(r=""),`${i}${r}#app=${t}`))},[a.appID,N,T.search,O]),F=(0,s.useCallback)(e=>{(0,h._H)(D),w&&w(e),(0,v.D)(()=>{R()}),(0,v.D)(()=>{k((0,c.L1)({actionSource:t,listType:x}))}),C&&C({action:P({name:g.fl.clickGamePage},void 0===t?{}:{source:t})})},[t,k,D,R,w,C,x]);return E?(0,r.jsx)("div",{className:(0,m.E)("game-url",f,o,"GameInfoPageUrl-critical-catalog-module__spinner--QIUIg"),children:(0,r.jsx)(n.y,{size:16,spinning:!0})}):(0,r.jsx)("div",{className:(0,m.E)("game-url",f,o),ref:S,onClick:F,children:i})});var D=(e=>(e.gameInfo="game-info",e.gameLike="game-like",e.gameUrl="game-url",e))(D||{});const N=({game:e,infoPage:t,ignoresTvNavigation:i,listType:a,mixElem:o="",redirParamsForGame:n,onClick:s,onRef:l,children:c=null})=>{var d;const{clickDaemonParams:u}=(0,j.b)();return t?(0,r.jsx)(L,{actionSource:g.zD.picture,block:null!=(d=null==n?void 0:n.block)?d:O.Q.GAME_CARD_URL,game:e,listType:a,mix:E(o),page:null==u?void 0:u.page,requestId:e.requestId,wrapperName:null==u?void 0:u.wrapper,onClick:s,onRef:l,children:c}):(0,r.jsx)(I.Z,{disableHeader:!1,game:e,ignoresTvNavigation:i,mix:E(o),redirParamsForGame:n,wrapperName:null==u?void 0:u.wrapper,onClick:s,onRef:l,children:c})}},87154:(e,t,i)=>{i.d(t,{Z:()=>q});var r=i(57627),a=i(63904),o=i.n(a),n=i(87363),s=i.n(n),l=i(73146),c=i(30928),d=i(93335),u=i(65147),m=i(92026),p=i(50678),h=i(59352),g=i(33045),v=i(4522),_=i(74516),y=(i(41020),i(20966)),f=i(97731),b=Object.defineProperty,w=Object.defineProperties,C=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,P=(e,t,i)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,I=(e,t)=>{for(var i in t||(t={}))x.call(t,i)&&P(e,i,t[i]);if(S)for(var i of S(t))k.call(t,i)&&P(e,i,t[i]);return e},T=(e,t)=>w(e,C(t));const j=(e,t,i,r)=>{const a=((e,t={})=>{const i=new AbortController,r=i.signal;return{fetch:fetch(e,T(I({},t),{signal:r})),abortController:i}})(t);let o=!1;return a.fetch.then(e=>e.blob()).then(t=>(e.src=URL.createObjectURL(t),o=!0,i())).catch(a=>{if("AbortError"!==a.name)return!(null==r?void 0:r.isFallback)&&(null==r?void 0:r.fallbackUrl)?((0,y.H)({additional:{mainUrl:t,fallbackUrl:r.fallbackUrl},block:f.W.VIDEO_LOADER,message:`Error while video loading with main URL, trying fallback URL ${a.message}`},a),j(e,r.fallbackUrl,i,{isFallback:!0})):void(0,y.H)({block:f.W.VIDEO_LOADER,message:`Error while video loading ${a.message}`},a)}),{abort:()=>{o||a.abortController.abort()},element:e}};var O=i(60617),z=i(50337),E=Object.defineProperty,L=(e,t,i)=>(((e,t,i)=>{t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);const D=o().with("video-preview");class N extends s().Component{constructor(){super(...arguments),L(this,"state",{isHover:this.props.hover}),L(this,"hoverTimer",null),L(this,"videoCtrl",null),L(this,"intersectionObserver"),L(this,"videoRef",null),L(this,"isVideoElementBeenRendered",!1),L(this,"mountedVideoPreviewUrl"),L(this,"setVideoRef",e=>{this.videoRef=e}),L(this,"handleIntersectionUpdate",e=>{const{dispatch:t,id:i}=this.props;!this.getPlaying()&&e&&t((0,d.NA)(i)),e||t((0,d.gh)(i))}),L(this,"restorePlayForIOS",()=>{setTimeout(()=>{var e,t;null==(t=null==(e=this.videoRef)?void 0:e.querySelector("video"))||t.play()},1e3)})}getOriginalVideoPreviewUrl(){return this.props.previewUrl||""}getVideoPreviewUrl(){var e;const t=this.props.previewUrl;if(!t)return"";const{abt:{flags:i}}=this.context;return(0,O.$u)(i)?null==(e=this.props.previewUrl)?void 0:e.replace(/[0-9]+\.mp4$/,"360.mp4"):t}getPlaying(){const{id:e,videosPlaying:t}=this.props;return t.slice(0,3).includes(e)}handleHover(){this.loadVideo()}handleLeave(){this.hoverTimer&&clearTimeout(this.hoverTimer),this.videoCtrl&&!this.getPlaying()&&(this.videoCtrl.abort(),this.videoCtrl=null)}loadVideo(){const{isIOS:e}=(0,z.AK)(this.context.platform);if(e)return;if(this.videoCtrl||!this.videoRef)return;const t=this.videoRef.querySelector("video");if(!t)return;const i=this.getVideoPreviewUrl();if(!i)return;const r=this.getOriginalVideoPreviewUrl(),a=i!==r?{fallbackUrl:r}:void 0;this.videoCtrl=j(t,i,()=>{var e,i;return null==(i=(e=this.props).onStartVideoPlay)||i.call(e),t.play()},a)}startVideoPlay(){}componentDidMount(){var e,t;this.updateVideoEventListeners({willUnmount:!1}),this.props.canPlayVideo&&(this.startVideoPlay(),null==(t=(e=this.props).onStartVideoPlay)||t.call(e)),this.state.isHover&&this.loadVideo()}componentDidUpdate(e){this.updateVideoEventListeners({willUnmount:!1}),!e.canPlayVideo&&this.props.canPlayVideo&&this.startVideoPlay(),this.props.hover&&!this.state.isHover&&this.setState({isHover:!0},this.handleHover),!this.props.hover&&this.state.isHover&&this.setState({isHover:!1}),this.getPlaying()&&this.loadVideo(),this.props.hover||this.handleLeave()}componentWillUnmount(){if(this.updateVideoEventListeners({willUnmount:!0}),this.hoverTimer&&clearTimeout(this.hoverTimer),this.videoCtrl&&this.videoCtrl.abort(),this.intersectionObserver){const{id:e,dispatch:t}=this.props;return this.getPlaying()&&t((0,d.gh)(e)),void this.intersectionObserver.unobserve(this.videoRef)}const{isIOS:e}=(0,z.AK)(this.context.platform);e&&window.removeEventListener("focus",this.restorePlayForIOS)}updateVideoEventListeners({willUnmount:e}){var t,i;const r=null==(t=this.videoRef)?void 0:t.querySelector("video"),a=()=>{var e;m.H.dispatch((0,g.UE)(this.props.previewUrl)),m.H.dispatch((0,u.zK)({appId:null==(e=this.props.game)?void 0:e.appID}))},o=()=>{m.H.dispatch((0,g.b4)({duration:null==r?void 0:r.duration,url:this.props.previewUrl}))};r&&!this.isVideoElementBeenRendered&&(m.H.dispatch((0,g.rX)({url:this.props.previewUrl,listType:this.props.listType,appId:null==(i=this.props.game)?void 0:i.appID})),this.mountedVideoPreviewUrl=this.props.previewUrl,r.addEventListener("play",a),r.addEventListener("loadedmetadata",o)),(!r&&this.isVideoElementBeenRendered||e)&&(m.H.dispatch((0,g.bX)(this.mountedVideoPreviewUrl)),this.mountedVideoPreviewUrl=void 0,null==r||r.removeEventListener("play",a),null==r||r.removeEventListener("loadedmetadata",o)),this.isVideoElementBeenRendered=Boolean(r)}getVideoHtml(){const{game:e,mix:t,skipPoster:i,videoFit:r="cover"}=this.props,{isIOS:a}=(0,z.AK)(this.context.platform),o=i?"":(null==e?void 0:e.media.cover["prefix-url"])+_.KL.pjpg350x209,n=(0,v.E)(D("video",{fit:r}),t);return a?`<video autoplay class="${n}" loop muted pip="false" playsinline src="${this.getOriginalVideoPreviewUrl()}" poster="${o}"></video>`:`<video preload="false" class="${n}" loop muted pip="false" playsinline poster="${o}"></video>`}renderVideoPreview(){return this.state.isHover||this.getPlaying()?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:this.getVideoHtml()}}):null}render(){const{config:e,children:t,game:i,listType:a,mix:o,redirParamsForGame:n}=this.props;return i&&a&&!(null==e?void 0:e.withTitleOnCard)?(0,r.jsxs)(h.Z,{game:i,listType:a,mixElem:(0,v.E)(D(),D(h.V.gameUrl),o),redirParamsForGame:n,onRef:this.setVideoRef,children:[t,this.renderVideoPreview()]}):(0,r.jsxs)("div",{className:(0,v.E)(D(),D(h.V.gameUrl),o),ref:this.setVideoRef,children:[t,this.renderVideoPreview()]})}}L(N,"contextType",p.Z);const R=(0,c.$j)(function(e){return{canPlayVideo:e.canPlayVideo,videosPlaying:e.videosPlaying}})(N);var F=Object.defineProperty,G=Object.defineProperties,A=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,B=(e,t,i)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,M=(e,t,i)=>(B(e,"symbol"!=typeof t?t+"":t,i),i);const $=o().with("game-video");class Z extends s().PureComponent{constructor(){super(...arguments),M(this,"getVideoPreviewUrl",()=>{var e,t,i,r;const a=(null==(e=this.props.game.media)?void 0:e.videos)||[],o=(null==(t=a[0])?void 0:t.previewUrl)||"";return"number"==typeof this.props.videoIndex?(null==(i=a[this.props.videoIndex])?void 0:i.previewUrl)||o:this.props.showPortraitOnly&&a.length>1&&(null==(r=a.find(e=>e.height>e.width))?void 0:r.previewUrl)||o}),M(this,"createVideoId",e=>{var t;return`game-video-${e}${null!=(t=this.props.videoIdSuffix)?t:""}`})}render(){const e=this.props,{alt:t,config:i,eagerImageLoading:a,listType:o,media:n,mix:s,mixImage:c,size:d=_.KL.pjpg128x128,skipPoster:u,skipPreview:m,useVideoThumbnailForCover:p}=e,h=((e,t)=>{var i={};for(var r in e)H.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&V)for(var r of V(e))t.indexOf(r)<0&&U.call(e,r)&&(i[r]=e[r]);return i})(e,["alt","config","eagerImageLoading","listType","media","mix","mixImage","size","skipPoster","skipPreview","useVideoThumbnailForCover"]);return(0,r.jsx)(R,(g=((e,t)=>{for(var i in t||(t={}))H.call(t,i)&&B(e,i,t[i]);if(V)for(var i of V(t))U.call(t,i)&&B(e,i,t[i]);return e})({},h),y={config:i,id:this.createVideoId(this.props.game.appID),listType:o,mix:(0,v.E)($(),s),previewUrl:this.getVideoPreviewUrl(),skipPoster:u||p,children:!m&&(0,r.jsx)(l.Z,{alt:t,appID:this.props.game.appID,loading:a?"eager":"lazy",media:n,mix:(0,v.E)($("video"),s,c),size:d,useVideoThumbnailForCover:p})},G(g,A(y))));var g,y}}const q=Z},47018:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i(57627),a=i(63904),o=i.n(a),n=i(87363),s=i(39138),l=i(4522);const c=o().with("game-quality-score"),d=(0,n.memo)(function({dataTestId:e,value:t,isCornered:i=!1,isSimilarCard:a=!1,withoutText:o=!1,mix:d="",permanentBackground:u=!1,isBackgroundTransparent:m=!1,onClick:p}){const h=(0,s.T)()("game.quality-score"),g=(0,n.useMemo)(()=>t>70,[t]);return(0,r.jsxs)("span",{className:(0,l.E)(c(),d),"data-testid":e&&`${e}-game-quality-score`,title:h,onClick:p,children:[(0,r.jsx)("span",{className:c("value",{high:g&&!u,transparent:m,cornered:i,"similar-card":a}),children:t}),!o&&(0,r.jsx)("span",{className:c("text"),children:h})]})})},45025:(e,t,i)=>{i.d(t,{Z:()=>m});var r=i(57627),a=i(4545),o=i(87363),n=i.n(o),s=i(50678),l=i(21882),c=i(60617),d=i(27390);const u=({event:e,normalizationMultiplier:t,once:i,place:o,type:c,uniqId:d,value:u})=>{const{baseUrl:m,deviceType:p}=n().useContext(s.Z),h=n().useMemo(()=>{const r=i?"":Math.random(),{hostname:n}=(0,a.getDomainConfig)(),s=[`event=${encodeURIComponent(e)}`,`domain=${encodeURIComponent(n)}`,`deviceType=${encodeURIComponent(p)}`,`place=${encodeURIComponent(o)}`,"sampling=sampling",`value=${encodeURIComponent(u)}`,`uniqId=${encodeURIComponent(d)}`,`rnd=${encodeURIComponent(r)}`,`${l.ZS}=${encodeURIComponent(t)}`].join("&");return`${m}/pixel-counters/${c}.jpg?${s}`},[m,p,t,d,o,c,e,u,i]);return(0,r.jsx)("img",{alt:"pixel-counter","data-counter-event":e,"data-counter-type":c,"data-counter-uniqid":d,"data-counter-value":u,src:h,style:{position:"absolute",width:0,height:0}})},m=({event:e,once:t=!0,place:i,type:a,uniqId:o,value:l})=>{const{abt:m,isPromoCounterEnabled:p}=n().useContext(s.Z),h=(0,c.$9)(m.flags,d.Z.pixelCounterReduction);return p&&i&&h?(0,r.jsx)(u,{event:e,normalizationMultiplier:h,once:t,place:i,type:a,uniqId:o,value:l}):null}},21240:(e,t,i)=>{i.d(t,{s:()=>n});var r=i(87363),a=i(61265),o=i(76753);const n=(e,t=!1,i=50)=>{const{registerPopup:n,isShown:s,hidePopup:l,showPopup:c}=(0,r.useContext)(a.OM),d=(0,r.useRef)(t);return(0,o.q)(()=>(n({name:e,weight:i,showCondition:()=>d.current}),()=>{l(e)})),(0,r.useEffect)(()=>{d.current=t,t?c(e):l(e)},[l,t,e,c]),s(e)}},49291:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(57627),a=i(4522);const o=({className:e=""})=>(0,r.jsx)("div",{className:(0,a.E)("Separator-critical-module__separator--b6RBa",e)})},69385:(e,t,i)=>{i.d(t,{Z:()=>G,k:()=>R});var r=i(57627),a=i(43774),o=i(87363),n=i(17936),s=i(4545);var l=i(23665),c=i(96344),d=(e,t,i)=>new Promise((r,a)=>{var o=e=>{try{s(i.next(e))}catch(e){a(e)}},n=e=>{try{s(i.throw(e))}catch(e){a(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);s((i=i.apply(e,t)).next())});const u=["FCCDCF","FCNEC","__gads","__gpi"];class m{static waitDialogOpen(){return d(this,null,function*(){yield(0,c.b)({querySelector:".fc-ccpa-root .fc-confirmation-dialog",interval:100,rejectTimeout:2500})})}static clickApplyButton(){return d(this,null,function*(){(yield(0,c.b)({querySelector:".fc-cta-opt-out",interval:100,rejectTimeout:1500})).click()})}static clickDismissButton(){return d(this,null,function*(){(yield(0,c.b)({querySelector:".fc-ccpa-root .fc-cta-close",interval:100,rejectTimeout:1500})).click()})}static cleanupGPPCookies(){return d(this,null,function*(){const{tld:e,baseUrl:t}=window.appData,{hostname:i}=(0,s.getDomainConfig)(),r=`.${i}.${e}`;for(const e of u)(0,l.d)({name:e,value:"",domain:r,path:t||"/",expires:new Date(0)})})}}var p=i(36329),h=i(16128),g=i(67906),v=i(62218);const _=(0,o.forwardRef)(({children:e,className:t,"data-testid":i,glossy:a=!0,onClose:o,style:n},s)=>(0,r.jsxs)("div",{className:(0,v.y)("card-critical-module__card--p4Xbg",a&&"card-critical-module__glossy--fZytk",t),"data-testid":i,ref:s,style:n,children:[e,o&&(0,r.jsx)(p.z,{className:"card-critical-module__closeButton--tssPU",glossy:a,iconLeft:(0,r.jsx)("div",{className:"card-critical-module__closeIcon--qwwZp",children:(0,r.jsx)(h.Z,{size:10,children:(0,r.jsx)(g.Z,{})})}),rounded:!0,size:32,view:"secondary-transparent",onClick:o})]}));_.displayName="Card";const y=_;var f=i(87214),b=i(39138),w=i(79090),C=i(4522),S=i(86508),x=i(68927),k=i(75303),P=i(77314),I=i(93181),T=i(84532);const j=e=>(0,r.jsx)("a",{className:(0,C.E)(e.className,"games-link"),href:e.href,rel:"_blank"===e.target?"noopener noreferrer":void 0,target:e.target,onClick:e.onClick,children:e.children});var O=i(99251);function z(e){const t=(0,x.TH)(),i=(0,P.b)(),a=(0,I.V)(),[o]=(0,k.lr)(),{pathname:n,search:s}=function(e){if("string"==typeof e){const t=new URL(e,(0,O.e)().origin);return{pathname:t.pathname,search:t.search}}return{pathname:e.pathname,search:e.search||""}}(e.to),l=(0,T.X6)({currentSearchParams:o,to:s,preserveSearch:e.preserveSearch});if(a||e.shouldOpenInNewTab){const a=(0,T.Eq)({appContext:i,location:t,to:n,search:l}),o=e.shouldOpenInNewTab?"_blank":void 0;return(0,r.jsx)(j,{className:(0,C.E)(e.className,"games-link"),href:a,target:o,onClick:e.onClick,children:e.children})}return(0,r.jsx)(k.rU,{className:(0,C.E)(e.className,"games-link"),to:{pathname:n,search:l.toString()},onClick:e.onClick,children:e.children})}const E=({onApply:e,onClose:t,onDismiss:i})=>{const a=(0,b.T)(),n=(0,w.i)(),[s,l]=(0,o.useState)(0);(0,o.useEffect)(()=>{const e=(e,{width:t})=>{l(-t)};return S.Z.addResizeBlockListener("game",e,!0),()=>{S.Z.removeResizeBlockListener("game",e)}},[]);const c=(0,o.useMemo)(()=>()=>(0,r.jsx)("u",{children:(0,r.jsx)(z,{shouldOpenInNewTab:!0,to:a("confidential.link"),children:a("confidential.title")})}),[a]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(y,{className:(0,C.E)("consent-gpp-modal-module__popup--tfCju","consent-gpp-modal-module__card--yO0es"),"data-testid":"consent-gpp-modal",glossy:!0,style:{marginRight:s},onClose:t,children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{variant:"primary-title",children:a("consent.gpp-modal.title")}),(0,r.jsx)(f.Z,{className:"consent-gpp-modal-module__description--hEy3j",variant:"primary-text",children:n("consent.gpp-modal.description",{params:{privacyLink:(0,r.jsx)(c,{})}})})]}),(0,r.jsxs)("div",{className:"consent-gpp-modal-module__buttons--to_O3",children:[(0,r.jsx)(p.z,{glossy:!0,size:40,view:"primary",onClick:i,children:a("consent.gpp-modal.dismiss")}),(0,r.jsx)(p.z,{glossy:!0,size:40,view:"secondary",onClick:e,children:a("consent.gpp-modal.opt-out")})]})]})})};var L=i(78339);var D=(e,t,i)=>new Promise((r,a)=>{var o=e=>{try{s(i.next(e))}catch(e){a(e)}},n=e=>{try{s(i.throw(e))}catch(e){a(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);s((i=i.apply(e,t)).next())});const N=n._y.tag("GooglefcConsentManager"),R=(0,a.v_)({on:"consent.override_gpp_consent_modal"}),F=()=>(0,r.jsx)("style",{children:".main-body .fc-ccpa-root .fc-dialog-container .fc-confirmation-dialog { display: none !important; }"}),G=()=>{const e=(0,o.useRef)(!1),[t,i]=(0,o.useState)(!1);(({paramName:e,shouldHaveParam:t,onExternalHashAdd:i})=>{const{hash:r}=(0,x.TH)(),a=function(e){const t=(0,o.useRef)(e);return t.current=e,(0,o.useCallback)((...e)=>{if(t.current)return t.current(...e)},[])}(i),n=(0,L.D)(t),s=(0,o.useMemo)(()=>new URLSearchParams(function(e){return e.length>0&&"#"===e[0]?e.slice(1):e}(r)),[r]);(0,o.useEffect)(()=>{const i=s.has(e);n!==t?t?i||(s.set(e,""),window.location.hash=s.toString().slice(0,-1)):i&&(s.delete(e),window.location.hash=s.toString()):i&&a()},[t,n,s,e,a]),s.has(e)})({paramName:"gpp-modal",shouldHaveParam:t,onExternalHashAdd:()=>D(void 0,null,function*(){e.current?i(!0):(yield m.cleanupGPPCookies(),window.location.reload())})}),(0,o.useEffect)(()=>{window.googlefc=window.googlefc||{callbackQueue:[]},window.googlefc.usstatesoptout=window.googlefc.usstatesoptout||{},window.googlefc.usstatesoptout.overrideDnsLink=!0,window.googlefc.callbackQueue.push({INITIAL_US_STATES_OPT_OUT_DATA_READY:()=>D(void 0,null,function*(){var t;const r=googlefc.usstatesoptout.getInitialUsStatesOptOutStatus();if(N("Received initial US states opt-out status:",r),null==(t=window.__gpp)||t.call(window,"addEventListener",(e,t)=>{N("__gpp.event",e,t)}),r===googlefc.usstatesoptout.InitialUsStatesOptOutStatusEnum.NOT_OPTED_OUT)try{yield m.waitDialogOpen(),e.current=!0,i(!0);const t=document.body.style.getPropertyValue("overflow");googlefc.usstatesoptout.openConfirmationDialog(e=>{N("openConfirmationDialog",e)}),document.body.style.setProperty("overflow",t),N("Override GPP modal show")}catch(e){N("No confirmation dialog opened, skip modal override")}})})},[]);const a=(0,o.useCallback)(()=>{N("Consent modal popup closed"),i(!1)},[]),n=(0,o.useCallback)(()=>D(void 0,null,function*(){try{yield m.clickDismissButton(),N("Consent modal dismissed")}catch(e){N("Failed to dismiss consent modal",e)}finally{e.current=!1,i(!1)}}),[]),s=(0,o.useCallback)(()=>D(void 0,null,function*(){try{yield m.clickApplyButton(),N("Consent modal applied")}catch(e){N("Failed to apply consent modal",e)}finally{e.current=!1,i(!1)}}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{}),t&&(0,r.jsx)(E,{onApply:s,onClose:a,onDismiss:n})]})}},2901:(e,t,i)=>{i.d(t,{Z:()=>f});var r=i(57627),a=i(63904),o=i.n(a),n=i(87363),s=i(75303),l=i(73520),c=i(34589),d=i(9826),u=i(77314),m=i(9695),p=i(36850),h=i(29513),g=i(60617),v=i(34647);const _=o().with("category-link");function y(e,t,i){return t===h.w5?(0,g.Ly)()?i:"/":t===h.z8?h.qW:t===h.zW?h.WP:(0,v.QG)(e,{name:t})}const f=function(e){const t=(0,u.b)(),i=(0,m.r)(),{active:a,children:o,categoryName:h,clickDaemonParams:g,pathname:v,mix:f="",onClick:b,target:w,title:C,testId:S,params:x}=e,k=(0,c.$)(null!=g?g:{}),P=(0,n.useCallback)(e=>{(0,p.D)(()=>{g&&k({action:{name:l.C.CLICK}}),null==b||b(e)})},[b,g,k]);let I=(0,d.D)();return x&&(I=function(e,t){const i=new URLSearchParams(e);for(const e in t)i.append(e,t[e]);return i.toString()}(I,x)),(0,r.jsx)(s.rU,{"aria-current":a?"page":void 0,className:`${_()} ${f} default-link`,"data-testid":S,state:{isInternalStep:!0},target:w,title:C,to:{pathname:v||y(t,h,i),search:I},onClick:P,children:o})}},84397:(e,t,i)=>{i.d(t,{ZP:()=>k});var r=i(57627),a=i(4545),o=i(96537),n=i(63904),s=i.n(n),l=i(87363),c=i.n(l),d=i(77314),u=i(39138),m=i(55222),p=i(79092),h=(e,t,i)=>new Promise((r,a)=>{var o=e=>{try{s(i.next(e))}catch(e){a(e)}},n=e=>{try{s(i.throw(e))}catch(e){a(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);s((i=i.apply(e,t)).next())});var g=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,w=(e,t,i)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;const C=s().with("copyright"),S=({className:e="",ContainerTag:t="div",legalInfo:i})=>{const{componentsSettings:o}=(0,a.getDomainConfig)(),n=function(){const e=(0,l.useRef)(null),{isGamesApp:t}=(0,d.b)();return(0,l.useEffect)(()=>{const i=e=>h(this,null,function*(){try{yield window.navigator.clipboard.writeText(e),e="Copied in clipboard:\n\n"+e}catch(e){console.error(e)}alert(e)}),r=()=>h(this,null,function*(){var e,r;if(t)null==(r=null==(e=window.yandex)?void 0:e.device)||r.getDeviceInfo(e=>h(this,null,function*(){let t="failed to get debug info, see console errors";try{const{app_build_number:i,app_platform:r,did:a,lang:o,model:n,os_version:s,uuid:l}=JSON.parse(e);t=[`Device: ${n}`,`Platform: ${r} ${s}`,`App build version: ${i}`,`UUID: ${l}`,`Device ID: ${a}`,`Lang/GeoID: ${o}/${window.clientMetadata.geoId}`].join("\n")}catch(e){console.error(e)}yield i(t)}));else{const{platform:e,appVersion:t,lang:r,geoId:a}=window.clientMetadata,o=[`Device: ${window.navigator.userAgent}`,`Platform: ${e}`,`App build version: ${t}`,`Clid: ${(0,p.X)()}`,`Lang/GeoID: ${r}/${a}`].join("\n");yield i(o)}}),a=e.current;return null==a||a.addEventListener("dblclick",r),()=>{null==a||a.removeEventListener("dblclick",r)}},[t]),e}(),{copyrightSymbol:s,copyrightSpacer:c,dates:u}=(e=>{const t=(new Date).getFullYear();return{copyrightSymbol:"©",copyrightSpacer:" ",dates:e&&e!==t?`${e}—${t}`:`${t}`}})(o.copyright.startYear);return(0,r.jsxs)(t,{className:`${C()} ${e}`,children:[`${s}${c}`,(0,r.jsx)("span",{className:C("dates"),ref:n,children:u}),`${c}${c}`,i]})},x=(0,l.memo)(({useFullCompanyInfo:e})=>{var t,i;const n=(0,a.getDomainConfig)(),{componentsSettings:{copyright:s},hostname:p}=n,{tld:h}=(0,d.b)(),g=(0,u.T)(),v=(0,m.oS)({customCopyright:null==s?void 0:s.customCopyright,getText:g,useFullCompanyInfo:e,tld:h}),_=(0,l.useMemo)(()=>Array.isArray(v)?v.map((e,t)=>(0,r.jsxs)(c().Fragment,{children:[e,t+1!==v.length&&(0,r.jsx)("br",{})]},t)):v,[v]),y=(null==(i=null==(t=s.byTld)?void 0:t[h])?void 0:i.href)||`https://${p}.${h}`;return(0,r.jsx)(o.r,{className:C("company-info"),href:y,rel:"noopener",target:"_blank",children:_})});x.displayName="LinkCompanyInfo";const k=e=>{var t=e,{isShortDescription:i=!1}=t,a=((e,t)=>{var i={};for(var r in e)f.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&y)for(var r of y(e))t.indexOf(r)<0&&b.call(e,r)&&(i[r]=e[r]);return i})(t,["isShortDescription"]);const o=(0,l.useMemo)(()=>{const e=!i;return(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsx)("br",{}),(0,r.jsx)(x,{useFullCompanyInfo:e})]})},[i]);return(0,r.jsx)(S,(n=((e,t)=>{for(var i in t||(t={}))f.call(t,i)&&w(e,i,t[i]);if(y)for(var i of y(t))b.call(t,i)&&w(e,i,t[i]);return e})({},a),v(n,_({legalInfo:o}))));var n}},31161:(e,t,i)=>{i.d(t,{C:()=>o});var r=i(4545),a=i(77314);function o(){var e;const{tld:t}=(0,a.b)(),{componentsSettings:{copyright:{byTld:i}}}=(0,r.getDomainConfig)();return Boolean(null==(e=null==i?void 0:i[t])?void 0:e.required)}},31389:(e,t,i)=>{i.d(t,{Z:()=>P});var r=i(48903),a=i(89131),o=i(43774),n=i(30928),s=i(93335),l=i(50678),c=i(78825),d=i(5047),u=i(33267),m=i(61712),p=i(26014),h=i(8281),g=i(24176),v=i(2592),_=i(87125),y=i(60617),f=i(33376),b=Object.defineProperty,w=(e,t,i)=>(((e,t,i)=>{t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);const C=(0,_.M$)("DisplayInstallation",_.XG.Popup),{answerTimeoutToInstallationInMs:S}=d.addToHomeScreenSettings,x=["show-api-prompt","show-shortcut-popup","show-standalone-api-prompt"];class k extends l.P{constructor(e,t){super(e,t),w(this,"installationChecker"),w(this,"sourceShortcut"),w(this,"handleVisibilityChange",()=>{return e=this,t=function*(){!1===document.hidden&&(this.removeVisibilityChangeListener(),this.showInstallationPromptPromise())},new Promise((i,r)=>{var a=e=>{try{n(t.next(e))}catch(e){r(e)}},o=e=>{try{n(t.throw(e))}catch(e){r(e)}},n=e=>e.done?i(e.value):Promise.resolve(e.value).then(a,o);n((t=t.apply(e,null)).next())});var e,t}),w(this,"appinstalledHandler",()=>{const e={type:this.props.type};this.sourceShortcut&&(e.source=this.sourceShortcut),C("appinstalled with params:",e),(0,m.NF)({},f.Ji.SHORTCUT_API_APPINSTALLED,e),g.Fj.apiAppInstalled((0,g.oU)({context:this.context,popupType:"system",source:this.sourceShortcut?(0,g.N7)(this.sourceShortcut):h.pR.CATALOG}))}),w(this,"shortcutManagerEventHandler",e=>{const{type:t,action:i,data:r}=e.data;"shortcut-manager"===t&&(x.includes(i)&&r.source?this.sourceShortcut=r.source:this.sourceShortcut=void 0)}),w(this,"disableShortcutButton",()=>{this.props.dispatch((0,s.tm)(!0))}),w(this,"waitForUserGestureToInstall",()=>{this.props.dispatch((0,s.I6)(!0))}),w(this,"stopWaitingForUserGestureToInstall",()=>{this.props.dispatch((0,s.I6)(!1))}),w(this,"showInstallationPromptCommonApi",e=>{const{shortcutEventPrompt:t,shortcutInstallationCb:i}=this.props;C(`showInstallationPromptCommonApi with source = ${e}, shortcutEventPrompt = ${t}`),t&&(g.Fj.show((0,g.oU)({context:this.context,popupType:"system",source:(0,g.aV)(e)})),t.prompt().then(()=>{this.props.dispatch((0,s.FJ)(void 0)),(0,m.NF)({},f.Ji.SHORTCUT_PROMPT_SHOW,{showPromptSource:e}),this.installationChecker.updateInstallationData(e),t.userChoice.then(t=>{g.Fj.click((0,g.oU)({context:this.context,popupType:"system",source:(0,g.aV)(e),result:"accepted"===t.outcome?"accepted":"rejected"})),"accepted"===t.outcome?((0,m.NF)({},f.Ji.SHORTCUT_USER_CHOICE_ACCEPTED),this.disableShortcutButton(),this.props.dispatch((0,s.w0)())):(this.props.dispatch((0,s.yf)(!0)),(0,m.NF)({},f.Ji.SHORTCUT_USER_CHOICE_DISMISSED)),null==i||i(t),this.props.dispatch(s.Nw)})}).catch(()=>{this.waitForUserGestureToInstall()}))}),w(this,"showInstallationPromptPromise",()=>{const e={waitingPeriod:v.s2};C("options",e),this.installationChecker.checkInstallationCapability(e)&&(this.props.dispatch((0,s.M4)(!1)),this.showInstallationPrompt(h.Wp.VisibilityChange),window.setTimeout(()=>{this.stopWaitingForUserGestureToInstall()},S))}),w(this,"showInstallationPrompt",e=>{this.showInstallationPromptCommonApi(e)}),this.installationChecker=new p.Z}addVisibilityChangeListener(){"catalog"===this.props.type&&((0,y.wy)(this.context.abt.flags).visibilitychange||(0,o.v_)({on:"disable_pwa_promo"})||(C("addEventListener visibilitychange"),document.addEventListener("visibilitychange",this.handleVisibilityChange)))}removeVisibilityChangeListener(){C("removeEventListener visibilitychange"),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}addAppinstalledListener(){C("add appinstalled"),window.addEventListener("appinstalled",this.appinstalledHandler)}removeAppinstalledListener(){C("remove appinstalled"),window.removeEventListener("appinstalled",this.appinstalledHandler)}initMessaging(){"game"===this.props.type&&c.Z.onAllMessages("shortcut-manager",this.shortcutManagerEventHandler,{withHistory:!0})}removeMessaging(){"game"===this.props.type&&c.Z.offAllMessages("shortcut-manager",this.shortcutManagerEventHandler)}componentDidUpdate(e){this.props.shortcutButtonFlag!==e.shortcutButtonFlag?this.showInstallationPrompt(h.Wp.Button):this.props.shortcutGameFlag!==e.shortcutGameFlag?this.showInstallationPrompt(h.Wp.Game):this.props.shortcutPopupFlag!==e.shortcutPopupFlag?this.showInstallationPrompt(h.Wp.Popup):this.props.shortcutInstallerFlag!==e.shortcutInstallerFlag?this.showInstallationPrompt(h.Wp.ShortcutInstaller):this.props.shortcutInlineBannerFlag!==e.shortcutInlineBannerFlag?this.showInstallationPrompt(h.Wp.InlineBanner):this.props.shortcutRecentGamesFlag!==e.shortcutRecentGamesFlag?this.showInstallationPrompt(h.Wp.RecentGames):this.props.shortcutRecentGamesButtonFlag!==e.shortcutRecentGamesButtonFlag?this.showInstallationPrompt(h.Wp.MyGamesInlineShortcutButton):this.props.shortcutMyGamesInlineFlag!==e.shortcutMyGamesInlineFlag?this.showInstallationPrompt(h.Wp.MyGamesInlineShortcutPopup):this.props.shortcutMyGamesDrawerFlag!==e.shortcutMyGamesDrawerFlag&&this.showInstallationPrompt(h.Wp.MyGamesDrawerShortcutPopup),this.props.shortcutUserGesturePrompt&&!e.shortcutUserGesturePrompt&&this.logUserGesturePrompt()}logUserGesturePrompt(){const{shortcutUserGesturePrompt:e}=this.props;g.Fj.show((0,g.oU)({context:this.context,popupType:"system",source:h.pR.USER_GESTURE})),null==e||e.userChoice.then(e=>{g.Fj.click((0,g.oU)({context:this.context,popupType:"system",source:h.pR.USER_GESTURE,result:"accepted"===e.outcome?"accepted":"rejected"}))}).finally(()=>{this.props.dispatch((0,s.r7)(void 0))})}componentDidMount(){var e;this.initMessaging(),this.addAppinstalledListener(),(0,u.Z)()&&(g.Fj.installed(),null==(e=this.props.history)||e.listen((0,r.P)(()=>{g.Fj.installed()},10*v.WT)))}componentWillUnmount(){this.removeAppinstalledListener(),this.removeMessaging()}render(){return null}}const P=(0,a.E)((0,n.$j)(function(e){return{shortcutInlineBannerFlag:e.shortcutInlineBannerFlag,shortcutButtonFlag:e.shortcutButtonFlag,shortcutInstallerFlag:e.shortcutInstallerFlag,shortcutEventPrompt:e.shortcutEventPrompt,shortcutGameFlag:e.shortcutGameFlag,shortcutPopupFlag:e.shortcutPopupFlag,shortcutRecentGamesFlag:e.shortcutRecentGamesFlag,shortcutMyGamesInlineFlag:e.shortcutMyGamesInlineFlag,shortcutMyGamesDrawerFlag:e.shortcutMyGamesDrawerFlag,shortcutRecentGamesButtonFlag:e.shortcutRecentGamesButtonFlag,shortcutInstallationCb:e.shortcutInstallationCb,shortcutUserGesturePrompt:e.shortcutUserGesturePrompt}})(k))},71459:(e,t,i)=>{i.d(t,{Z:()=>U});var r=i(57627),a=i(4545),o=i(36329),n=i(63904),s=i.n(n),l=i(87363),c=i.n(l),d=i(30928),u=i(50678),m=i(31161),p=i(84397),h=i(77314),g=i(39138),v=i(63275);const _=s().with("footer-links"),y=()=>{const{tld:e}=(0,h.b)(),t=(0,g.T)(),i=(()=>{const{tld:e}=(0,h.b)(),{hostname:t}=(0,a.getDomainConfig)();return"ru"===e&&"yandex"===t})();return(0,r.jsx)("nav",{"aria-label":t("legal.links.label"),className:_("wrap"),children:(0,r.jsxs)("ul",{className:_("list"),children:[(0,r.jsx)("li",{className:_("item"),children:(0,r.jsx)("a",{className:_("link"),href:t("license.link",{params:{tld:(0,v.T)(e)}}),rel:"noopener",target:"_blank",children:t("license.text")})}),(0,r.jsx)("li",{className:_("item"),children:(0,r.jsx)("a",{className:_("link"),href:t("confidential.link"),rel:"noopener",target:"_blank",children:t("confidential.text")})}),i&&(0,r.jsx)("li",{className:_("item"),children:(0,r.jsx)("a",{className:_("link"),href:t("recommendations.link"),rel:"noopener",target:"_blank",children:t("recommendations.text")})}),(0,r.jsx)("li",{className:_("item"),children:(0,r.jsx)("a",{className:_("link"),href:t("support.button.link"),rel:"noopener",target:"_blank",children:t("support.button.text")})})]})})},f=()=>{const{basePath:e,legalPages:t}=(0,a.getDomainConfig)(),i=(0,g.T)();return t?(0,r.jsx)("nav",{"aria-label":i("legal.links.label"),className:_("wrap"),children:(0,r.jsx)("ul",{className:_("list"),children:Object.entries(t).sort((e,t)=>e[1].footerOrder-t[1].footerOrder).map(([t,a])=>{const o=i(`${a.pagePrefix}.link.text`,{withNoErrors:!0})||i(`${a.pagePrefix}.title`,{withNoErrors:!0});return a.hideLink||!o?null:(0,r.jsx)("li",{className:_("item"),children:(0,r.jsx)("a",{className:_("link"),href:"external"===a.type?a.href:`${e}${t}`,rel:"noopener",target:"_blank",children:o})},t)})})}):(0,r.jsx)(y,{})},b=c().memo(({className:e})=>{const t=(0,m.C)();return(0,r.jsxs)("article",{className:`${_()} ${e}`,children:[t&&(0,r.jsx)(p.ZP,{className:_("copyright"),isShortDescription:!1}),(0,r.jsx)(f,{})]})});var w=i(55990);const C=s().with("social");var S=(e=>(e.TELEGRAM="telegram",e.TIKTOK="tiktok",e.ZEN="zen",e))(S||{});const x=c().memo(e=>{const t=(0,g.T)(),{children:i,socialNetworks:a,showDescription:o=!0}=e;return(0,r.jsxs)("div",{className:C(),children:[i,o&&(0,r.jsx)("span",{className:C("label"),children:t("social.text")}),a.map(e=>{const i=t(`social.${e}`);return"-"===i?null:(0,r.jsx)("a",{className:C("icon"),href:i,target:"_blank",children:(0,r.jsx)(w.Z,{type:`social-${e}`})},e)})]})}),k=x,P=[S.TELEGRAM,S.ZEN,S.TIKTOK],I=({children:e})=>(0,r.jsx)(k,{showDescription:!1,socialNetworks:P,children:e});var T=i(67207),j=i(93335),O=i(38225),z=i(61712),E=i(8281),L=i(24176),D=i(33376),N=i(4522),R=Object.defineProperty,F=(e,t,i)=>(((e,t,i)=>{t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);const G=s().with("footer"),A=()=>{var e;const t=(0,g.T)(),i=(0,a.getDomainConfig)(),n=(0,l.useCallback)(()=>{(0,z.NF)({},D.Ji.CLICK_PARTNER_BUTTON)},[]);if(!(null==(e=i.componentsSettings.footer)?void 0:e.usePartnersBlock))return null;const s=t("partners.button.text.new"),c=t("partners.button.link");return(0,r.jsxs)("article",{className:`${G("partners")}`,children:[(0,r.jsx)("div",{className:G("background")}),(0,r.jsx)("div",{className:G("image")}),(0,r.jsxs)(T.Z,{hasTitle:!0,headLevel:3,mix:G("content"),title:t("partners.header"),children:[(0,r.jsx)("p",{className:G("text"),children:t("partners.text")}),(0,r.jsx)(o.z,{"data-testid":"footer-button-partner",href:c,rel:"noopener",size:40,target:"_blank",view:"primary",onClick:n,children:s})]})]})},V=({disabled:e,hasShortcutFunctions:t,withoutShortcut:i,withPartners:n})=>{const{hasSideBar:s,tld:c,lang:d,baseHost:u,baseUrl:m,abt:p}=(0,h.b)(),v=(0,g.T)(),_=(0,l.useRef)(!1),y=(0,O.T)(),{secondaryShortcutButtonView:f,usePartnersBlock:b,onlyButtonInMobile:w,allowSidebar:C}=(0,a.getDomainConfig)().componentsSettings.footer||{};(0,l.useEffect)(()=>{i||!t||_.current||(_.current=!0,L.Fj.show((0,L.oU)({context:{baseHost:u,baseUrl:m,lang:d,tld:c,abt:p},popupType:"system",source:(0,L.aV)(E.Wp.Button)})))},[c,d,u,m,i,t,p]);const S=(0,l.useCallback)(()=>{L.Fj.click((0,L.oU)({context:{baseHost:u,baseUrl:m,lang:d,tld:c,abt:p},popupType:"system",source:(0,L.aV)(E.Wp.Button),result:"accepted"})),y((0,j.JB)()),(0,z.NF)({},D.Ji.CLICK_SHORTCUT_BUTTON),(0,z.NF)({},D.Ji.CATALOG_SHORTCUT_CLICK,{shortcutSource:E.Wp.Button})},[p,u,m,y,d,c]),x=(0,l.useCallback)(()=>{y((0,j.JB)()),(0,z.NF)({},D.Ji.CLICK_SIDEBAR_BUTTON),(0,z.NF)({},D.Ji.CATALOG_SHORTCUT_CLICK,{shortcutSource:E.Wp.Button})},[y]);if(i||!t)return null;const k=!n||!b,P=f&&!k,I=v(C&&s?"sidebar.description.text":"shortcut.description.text");return(0,r.jsx)("article",{className:G("shortcut",{sidebar:s,shown:t,only_button:w,only_shortcut_block:k}),children:t&&(0,r.jsxs)(T.Z,{hasTitle:!w,headLevel:3,mix:G("content"),title:v("shortcut.title.text.mobile"),children:[(0,r.jsx)("p",{className:G("text"),hidden:w,children:I}),(0,r.jsx)(o.z,{className:G("shortcut-button"),"data-testid":"footer-button-shortcut",disabled:e,size:40,view:P?"secondary":"primary",onClick:s&&!w?x:S,children:v("shortcut.button.text")})]})})};c().memo(()=>{const e=(0,g.T)();return(0,r.jsx)("a",{className:G("link"),href:e("common.support.link"),rel:"noopener",target:"_blank",children:e("common.support.help")})});class H extends u.P{constructor(){super(...arguments),F(this,"handleShortcutButtonClick",()=>{this.props.dispatch((0,j.JB)()),(0,z.NF)({},D.Ji.CLICK_SHORTCUT_BUTTON),(0,z.NF)({},D.Ji.CATALOG_SHORTCUT_CLICK,{shortcutSource:E.Wp.Button})}),F(this,"handleSidebarButtonClick",()=>{this.props.dispatch((0,j.JB)()),(0,z.NF)({},D.Ji.CLICK_SIDEBAR_BUTTON),(0,z.NF)({},D.Ji.CATALOG_SHORTCUT_CLICK,{shortcutSource:E.Wp.Button})})}renderShortcutButton(){const{disableShortcutButton:e,withoutShortcut:t,hasShortcutFunctions:i,shortcutCancelled:a,withPartners:o}=this.props;return(0,r.jsx)(V,{disabled:e,hasShortcutFunctions:a||i,withPartners:o,withoutShortcut:t})}socialNetworks(){var e;return(null==(e=(0,a.getDomainConfig)().componentsSettings.footer)?void 0:e.disableSocialNetworks)?null:(0,r.jsx)(I,{children:!1})}render(){const{hasCenteredMobileContent:e,hasShortcutFunctions:t,type:i,withoutHorizontalLine:a,withPartners:o,withoutShortcut:n,shortcutCancelled:s,mix:l}=this.props,c=a?null:(0,r.jsx)("div",{className:G("horizontal-line")});return(0,r.jsxs)("footer",{className:(0,N.E)(G({type:i,centered:!1}),l),children:[(0,r.jsxs)("div",{children:[c,o&&(0,r.jsx)("div",{className:G("blocks"),children:(0,r.jsx)(A,{})}),!1]}),!1,(0,r.jsxs)("div",{className:G("wrapper"),role:"contentinfo",children:[(0,r.jsx)("div",{className:"",children:c}),(0,r.jsx)(b,{className:G("links")}),this.socialNetworks()]})]})}}F(H,"defaultProps",{hasCenteredMobileContent:!0,withPartners:!0});const U=(0,d.$j)(function(e){return{hasShortcutFunctions:Boolean(e.shortcutEventPrompt),disableShortcutButton:e.disableShortcutButton,shortcutCancelled:e.shortcutCancelled,theme:e.theme.value}})(H)},63370:(e,t,i)=>{i.d(t,{Z:()=>r});const r=i(71459).Z},25686:(e,t,i)=>{i.d(t,{Z:()=>dt});var r=i(57627),a=i(43774),o=i(87363),n=i.n(o),s=i(20779),l=i(38225),c=i(63904),d=i.n(c),u=i(1472),m=i(73510),p=i(21128),h=i(44468),g=i(17522);let v;v=i(77944).Z;const _=v;var y=i(55990),f=i(39138);const b=()=>{const e=(0,f.T)();return(0,r.jsxs)("div",{className:"ContinuePlayingTitle-critical-catalog-module__wrapper--vCpnZ",children:[(0,r.jsx)("div",{className:"ContinuePlayingTitle-critical-catalog-module__title--PS6Qb",children:e("game-card.continue.title")}),(0,r.jsx)(y.Z,{className:"ContinuePlayingTitle-critical-catalog-module__icon--DLJsH",type:"arrow-pointer"})]})};var w=i(63399),C=i(59352),S=i(77314),x=i(4522);const k=n().memo(function(e){var t,i;const{b:o,className:n,config:s,game:l,gameCardConfig:c,gameOpened:d,listType:u,redirParamsForGame:m,titleClassName:p}=e,{withCategory:h,withIcon:g,withShortDescription:v}=s,_=c.withContinuePlaying&&"recentlyPlayed"in l&&l.recentlyPlayed,y=s.oneLineDescription||(0,a.v_)({on:"continue_playing.title"})&&_,{categoryDataMappedByID:f}=(0,S.b)(),k=null==(t=l.categoryIDs)?void 0:t[0],P=h&&"number"==typeof k?f[k]:null,I=v&&"shortDescription"in l?l.shortDescription:void 0;return(0,r.jsx)("div",{className:n,children:(0,r.jsxs)(C.Z,{game:l,ignoresTvNavigation:!0,infoPage:!1,listType:u,mixElem:o(C.V.gameUrl,{"contains-image":!1}),redirParamsForGame:m,onClick:d,children:[(0,r.jsx)(w.x,{alignTextCenter:!0,description:I,descriptionClassName:o(v?"short-description":"category"),game:l,hideDescription:null!=(i=s.withHiddenDescription)?i:!I,hideImage:!g,imageClassName:g?o("icon"):void 0,size:s.withGameInfoSize,titleClassName:(0,x.E)(p,y&&o("one-line")),withCategoryComponent:Boolean(P),withShortDescription:v}),(0,r.jsx)(a.hW,{on:["continue_playing.title"],onComponent:_&&(0,r.jsx)(b,{})})]},`${l.appID}-description`)})}),P=e=>{const{game:t,isCaption:i,config:a,listType:o,redirDataForGame:n,gameOpened:s,b:l}=e;if(!i||a.withTitleOnCard||a.withCaptionOnCard)return null;const c=l("description",{"with-hyphens":a.withHyphens?"yes":"no"}),d=`${l("title")} ${l("no-caption")}`;return(0,r.jsx)(k,{b:l,className:c,config:a,game:t,gameCardConfig:a,gameOpened:s,listType:o,redirParamsForGame:n,titleClassName:d})},I={images_size_size_48_high_res:"gameCardImagesSizes-critical-module__images_size_size_48_high_res--VNfVg",images_size_recommended_new:"gameCardImagesSizes-critical-module__images_size_recommended_new--CwvL6",images_size_adaptive_recommended_new:"gameCardImagesSizes-critical-module__images_size_adaptive_recommended_new--PMSi5",images_size_profile_recent_games:"gameCardImagesSizes-critical-module__images_size_profile_recent_games--Q30Lo",images_size_your_games:"gameCardImagesSizes-critical-module__images_size_your_games--BJsat",images_size_l:"gameCardImagesSizes-critical-module__images_size_l--C9taj",images_size_premium:"gameCardImagesSizes-critical-module__images_size_premium--nSmso",images_size_m:"gameCardImagesSizes-critical-module__images_size_m--d74Wx",images_size_premium_big:"gameCardImagesSizes-critical-module__images_size_premium_big--TC1lW"};var T=i(73146);const j=n().memo(e=>e.config.withTitleOnCard?(0,r.jsx)("div",{className:e.b(C.V.gameUrl,{"contains-image":!0}),onClick:e.gameOpened,children:(0,r.jsx)(T.Z,{alt:e.game.title,appID:e.game.appID,loading:e.eagerImageLoading?"eager":"lazy",media:e.media,mix:(0,x.E)(e.b("image"),I[`images_size_${e.size}`]),size:e.config.imageSize})},`${e.game.appID}-cover`):(0,r.jsx)(C.Z,{game:e.game,ignoresTvNavigation:!1,infoPage:!1,listType:e.listType,mixElem:e.b(C.V.gameUrl,{"contains-image":!0}),redirParamsForGame:e.redirParamsForGame,onClick:e.gameOpened,children:(0,r.jsx)(T.Z,{alt:e.game.title,appID:e.game.appID,loading:e.eagerImageLoading?"eager":"lazy",media:e.media,mix:(0,x.E)(e.b("image"),I[`images_size_${e.size}`]),size:e.config.imageSize})},`${e.game.appID}-cover`));var O=i(87154),z=i(29513),E=Object.defineProperty,L=Object.defineProperties,D=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,G=(e,t,i)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;const A=e=>{var t,i;const{b:a,eagerImageLoading:o,game:n,gameVideoIdSuffix:s,hover:l,listType:c,moreGamesCount:d,noAutoPlay:u,promo:m,redirDataForGame:p,size:h,shouldShowVideoPreview:g,config:v,imagesSizes:_,gameOpened:y}=e,f="number"!=typeof d,b=null==(t=v.specialViewSettings)?void 0:t.verticalAccentThumb;if(g)return(0,r.jsx)(O.Z,{alt:n.title,config:v,eagerImageLoading:o,game:n,hover:l,listType:c,media:n.media,mix:(0,x.E)(a("video-card"),b&&a("video-card",{"vertical-shift":f}),a(C.V.gameUrl)),mixImage:_[`images_size_${h}`],noAutoPlay:u,redirParamsForGame:p,showPortraitOnly:b,size:v.imageSize,useVideoThumbnailForCover:b,videoIdSuffix:s});const w=null==(i=null==m?void 0:m.images)?void 0:i[0],S=w&&h===z.xY.L?((e,t)=>L(e,D(t)))(((e,t)=>{for(var i in t||(t={}))R.call(t,i)&&G(e,i,t[i]);if(N)for(var i of N(t))F.call(t,i)&&G(e,i,t[i]);return e})({},n.media),{cover:w}):n.media;return(0,r.jsx)(j,{b:a,config:v,eagerImageLoading:o,game:n,gameOpened:y,listType:c,media:S,redirParamsForGame:p,size:h})},V=n().memo(e=>(0,r.jsx)(C.Z,{game:e.game,ignoresTvNavigation:!1,infoPage:!0,listType:e.listType,mixElem:(0,x.E)(e.b(C.V.gameInfo,{"contains-image":!1}),e.showOnlyOnCardHover?e.b("show-on-hover"):""),redirParamsForGame:e.redirParamsForGame},`${e.game.appID}-info`)),H=e=>{const{b:t,config:i,game:a,hasInfo:o,listType:n,redirDataForGame:s,showBadgesOnlyOnHover:l,size:c}=e;if(!Boolean(i.withInfo&&o))return null;const d=Boolean("recentlyPlayed"in a&&a.recentlyPlayed);return(0,r.jsx)(V,{b:t,game:a,listType:n,redirParamsForGame:s,showOnlyOnCardHover:d&&l})};var U=i(26812),B=i(24912),M=i(19811);const $="ExpandableReactionsPanel-critical-module__expanded--zuDLO",Z="ExpandableReactionsPanel-critical-module__showActive--eLIrI";var q=i(64151);const K=({game:e,className:t,buttonClassName:i,state:a,usageContext:n})=>{const s=(0,o.useRef)(null),{isLiked:l,isDisliked:c}=(0,B.r)(e),{handleLikeToggle:d,handleDislikeToggle:u}=(0,U.x)(n),m="expanded"===a||"expandedWithTooltip"===a,p="expandedWithTooltip"===a,h=!m&&l,g=!m&&c;return(0,r.jsxs)("div",{className:(0,x.E)("ExpandableReactionsPanel-critical-module__expandableReactionsPanel--S4hWg",t,m&&$),ref:s,children:[(0,r.jsx)("div",{className:(0,x.E)("ExpandableReactionsPanel-critical-module__dislikeButtonContainer--NpleK",m&&$,g&&Z),children:(0,r.jsx)(M.A,{appID:e.appID,className:i,isActive:c,type:"dislike",onToggle:u})}),(0,r.jsx)("div",{className:(0,x.E)("ExpandableReactionsPanel-critical-module__likeButtonContainer--QA07o",m&&$,h&&Z),children:(0,r.jsx)(M.A,{appID:e.appID,className:i,isActive:l,type:"like",onToggle:d})}),p&&(0,r.jsx)(q.$,{anchor:s,mainOffset:-2})]})},W=e=>{const{config:t,game:i,state:o,usageContext:n,buttonClassName:s,className:l}=e;return t.withLikes&&(0,a.v_)({on:"game_likes"})?(0,r.jsx)(K,{buttonClassName:s,className:l,game:i,state:o,usageContext:n}):null};var J=i(36850),Y=i(60669);const Q=({game:e,listType:t,gameOpened:i,redirDataForGame:a,b:o})=>(0,r.jsx)(C.Z,{game:e,ignoresTvNavigation:!1,infoPage:!1,listType:t,mixElem:(0,x.E)(o(C.V.gameUrl),o("caption-on-card")),redirParamsForGame:a,onClick:i,children:(0,r.jsx)(w.x,{game:e,size:"s"})}),X=e=>{const{game:t,listType:i,gameOpened:a,redirDataForGame:o,b:n}=e;return(0,r.jsx)(C.Z,{game:t,ignoresTvNavigation:!1,infoPage:!1,listType:i,mixElem:(0,x.E)(n(C.V.gameUrl),n("title-on-card")),redirParamsForGame:o,onClick:a,children:(0,r.jsx)("span",{className:(0,x.E)(n("title"),n(C.V.gameUrl),n("show-on-hover")),children:t.title})})},ee={size_l:"gameCardSizes-critical-module__size_l--v17Gj",size_accent_thumb_horizontal:"gameCardSizes-critical-module__size_accent_thumb_horizontal--DNfXF",size_accent_thumb_vertical:"gameCardSizes-critical-module__size_accent_thumb_vertical--F6svK",size_premium:"gameCardSizes-critical-module__size_premium--rEjcB",size_your_games:"gameCardSizes-critical-module__size_your_games--qoKPf",size_recommended_new:"gameCardSizes-critical-module__size_recommended_new--LWkuF",size_premium_big:"gameCardSizes-critical-module__size_premium_big--Wp6HS",size_profile_recent_games:"gameCardSizes-critical-module__size_profile_recent_games--Qd8Cw",size_all_games_desktop:"gameCardSizes-critical-module__size_all_games_desktop--cyym1",size_all_games_tablet:"gameCardSizes-critical-module__size_all_games_tablet--FbjfR",size_all_games_mobile:"gameCardSizes-critical-module__size_all_games_mobile--kbSEI","size_recent-games-cover-small":"gameCardSizes-critical-module__size_recent-games-cover-small--Indwn","size_recent-games-cover-medium-with-game-icon":"gameCardSizes-critical-module__size_recent-games-cover-medium-with-game-icon--TXFOi","size_recent-games-cover-medium":"gameCardSizes-critical-module__size_recent-games-cover-medium--_CSwk","size_recent-games-cover-large":"gameCardSizes-critical-module__size_recent-games-cover-large--FvV3v",size_size_40_high_res:"gameCardSizes-critical-module__size_size_40_high_res--V6h17",size_size48_old:"gameCardSizes-critical-module__size_size48_old--tcBuE",size_size_48_high_res:"gameCardSizes-critical-module__size_size_48_high_res--qNqXG",size_m:"gameCardSizes-critical-module__size_m--VbbQT",size_s:"gameCardSizes-critical-module__size_s--hlzph",size_categorized_new_l:"gameCardSizes-critical-module__size_categorized_new_l--uN4Lx",size_hit:"gameCardSizes-critical-module__size_hit--jfSed",size_tv:"gameCardSizes-critical-module__size_tv--JdQGs",size_adaptive_recommended_new:"gameCardSizes-critical-module__size_adaptive_recommended_new--A_7se",size_fit_container:"gameCardSizes-critical-module__size_fit_container--VzZJe"},te={"graphic-size_l":"gameCardGraphicSizes-critical-module__graphic-size_l--MaGxm","graphic-size_accent_thumb_horizontal":"gameCardGraphicSizes-critical-module__graphic-size_accent_thumb_horizontal--hN7hK","graphic-size_accent_thumb_vertical":"gameCardGraphicSizes-critical-module__graphic-size_accent_thumb_vertical--ZUK4t","graphic-size_premium":"gameCardGraphicSizes-critical-module__graphic-size_premium--YKxVT","graphic-size_your_games":"gameCardGraphicSizes-critical-module__graphic-size_your_games--W3Zbv","graphic-size_recommended_new":"gameCardGraphicSizes-critical-module__graphic-size_recommended_new--jKe_q","graphic-size_premium_big":"gameCardGraphicSizes-critical-module__graphic-size_premium_big--scnc2","graphic-size_profile_recent_games":"gameCardGraphicSizes-critical-module__graphic-size_profile_recent_games--ek3YP","graphic-size_all_games_desktop":"gameCardGraphicSizes-critical-module__graphic-size_all_games_desktop--JqLyv","graphic-size_all_games_tablet":"gameCardGraphicSizes-critical-module__graphic-size_all_games_tablet--qjZa8","graphic-size_all_games_mobile":"gameCardGraphicSizes-critical-module__graphic-size_all_games_mobile--bBwsO","graphic-size_recent-games-cover-small":"gameCardGraphicSizes-critical-module__graphic-size_recent-games-cover-small--xiJcB","graphic-size_recent-games-cover-medium":"gameCardGraphicSizes-critical-module__graphic-size_recent-games-cover-medium--AWVHz","graphic-size_recent-games-cover-medium-with-game-icon":"gameCardGraphicSizes-critical-module__graphic-size_recent-games-cover-medium-with-game-icon--B2DeJ","graphic-size_recent-games-cover-large":"gameCardGraphicSizes-critical-module__graphic-size_recent-games-cover-large--vhUhZ","graphic-size_size_40_high_res":"gameCardGraphicSizes-critical-module__graphic-size_size_40_high_res--kpI_q","graphic-size_size_48_high_res":"gameCardGraphicSizes-critical-module__graphic-size_size_48_high_res--b8sNs","graphic-size_m":"gameCardGraphicSizes-critical-module__graphic-size_m--JZpfH","graphic-size_s":"gameCardGraphicSizes-critical-module__graphic-size_s--evVvI","graphic-size_categorized_new_l":"gameCardGraphicSizes-critical-module__graphic-size_categorized_new_l--V8s0r","graphic-size_hit":"gameCardGraphicSizes-critical-module__graphic-size_hit--_Imij","graphic-size_fit_container":"gameCardGraphicSizes-critical-module__graphic-size_fit_container--OcThx","graphic-size_adaptive_recommended_new":"gameCardGraphicSizes-critical-module__graphic-size_adaptive_recommended_new--dr4sK"},ie=d().with("game-card"),re=ie("game-like-button"),ae=n().memo(e=>{var t,i;const{children:n,config:s,eagerImageLoading:c,game:d,gameVideoIdSuffix:v,hasInfo:y=!0,hover:f,isCaption:b,isHighlighted:w,listType:S,mix:k="",moreGamesCount:T,noAutoPlay:j,noStickyBadge:O,onGameOpen:z,onClick:E,onHover:L,onMouseMove:D,onRef:N,onTouchStart:R,onTouchStartCapture:F,onUnhover:G,redirDataForGame:V,reactionsPanelState:U,shouldShowVideoPreview:B,shouldShowVisibleDebugOverlayPaint:M,size:$}=e,[Z]=(0,o.useState)($),{promo:q}=(e=>{const t=(0,l.C)(e=>e.promos);return{promo:(0,o.useMemo)(()=>(0,Y.G1)(t,e.game.appID),[t,e.game.appID])}})({game:d}),K=(0,a.v_)({on:"continue_playing.cover"})||(0,a.v_)({on:"continue_playing.badge"}),ae=(0,o.useCallback)(()=>{(0,J.D)(()=>{null==z||z(d.appID)})},[d.appID,z]),oe=(0,x.E)(ie({size:Z,type:S,highlighted:w,"recently-played":"recentlyPlayed"in d&&d.recentlyPlayed,showsVisibleDebugOverlayPaint:M}),k,ee[`size_${Z}`]),ne="number"==typeof T,se=null==(t=s.specialViewSettings)?void 0:t.horizontalAccentThumb,le=null==(i=s.specialViewSettings)?void 0:i.verticalAccentThumb,ce=null!=U?U:f?"expanded":"collapsed";return(0,r.jsxs)("div",{className:oe,"data-testid":`game-card-${d.appID}`,ref:N,onClick:E,onMouseEnter:L,onMouseLeave:G,onMouseMove:D,onTouchStart:R,onTouchStartCapture:F,children:[n,(0,r.jsxs)("div",{className:(0,x.E)(ie("graphic",{size:Z,"with-shadow":s.withShadow}),te[`graphic-size_${Z}`],s.withAccentHover&&ie("accent-hover")),"data-nosnippet":"true",style:{background:le?d.media.cover.mainColor:void 0},children:[(0,r.jsx)(A,{b:ie,config:s,eagerImageLoading:c,game:d,gameOpened:ae,gameVideoIdSuffix:v,hover:f,imagesSizes:I,listType:S,moreGamesCount:T,noAutoPlay:j,promo:q,redirDataForGame:V,shouldShowVideoPreview:B,size:Z}),ne?(0,r.jsx)(g.Z,{gamesCount:T}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{b:ie,config:s,game:d,noStickyBadge:O,showBadgesOnlyOnHover:K}),se&&(0,r.jsx)(u.H,{game:d}),le&&(0,r.jsx)(m.P,{game:d})]}),s.withContinuePlaying&&"recentlyPlayed"in d&&d.recentlyPlayed&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.hW,{on:["continue_playing.cover"],onComponent:(0,r.jsx)(h.L,{})}),(0,r.jsx)(a.hW,{on:["continue_playing.badge"],onComponent:(0,r.jsx)(p.V,{})})]}),s.withCaptionOnCard&&(0,r.jsx)(Q,{b:ie,game:d,gameOpened:ae,listType:S,redirDataForGame:V}),s.withTitleOnCard&&(0,r.jsx)(X,{b:ie,game:d,gameOpened:ae,listType:S,redirDataForGame:V}),(0,r.jsx)(W,{buttonClassName:re,className:ie(C.V.gameLike),config:s,game:d,state:ce,usageContext:"game-card"})]}),!ne&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P,{b:ie,config:s,game:d,gameOpened:ae,isCaption:b,listType:S,redirDataForGame:V}),(0,r.jsx)(o.StrictMode,{children:(0,r.jsx)(H,{b:ie,config:s,game:d,hasInfo:y,listType:S,redirDataForGame:V,showBadgesOnlyOnHover:K,size:Z})})]})]})});var oe=i(73520),ne=i(24062),se=i(20966),le=i(24046),ce=i(97731);var de=i(74516),ue=Object.defineProperty,me=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,ge=(e,t,i)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ve=(e,t)=>{for(var i in t||(t={}))pe.call(t,i)&&ge(e,i,t[i]);if(me)for(var i of me(t))he.call(t,i)&&ge(e,i,t[i]);return e};const _e={imageSize:de.KL.pjpg128x128,withAccentHover:!0,withBadges:!0,withContinuePlaying:!0,withGameInfoSize:"m",withHoverStates:!0,withInfo:!0,withLogOnHover:!0,withQualityScore:!0,withRating:!0,withShadow:!0},ye={[z.co.CATEGORIZED]:{oneLineDescription:!0,withTitleOnCard:!0},[z.co.PLAYED]:{withContinuePlaying:!1,withQualityScore:!1,withRating:!1},[z.co.USER_PROFILE_RECENT_GAMES]:{withGameInfoSize:"s",withHiddenDescription:!0,withHyphens:!0,withQualityScore:!1},[z.co.SHORTS]:{withHoverStates:!1},[z.co.HIT]:{withBigGameInfoImage:!0,withGameInfoSize:"l",withHoverStates:!1,withShortDescription:!0},[z.co.RECENT_GAMES_COMPACT]:{withContinuePlaying:!1,withQualityScore:!1,withRating:!1,withShadow:!1},[z.co.SUGGESTED]:{withTitleOnCard:!0},[z.co.LIKED]:{withGameInfoSize:"s",withHiddenDescription:!0}},fe={[z.NK.MULTIMORDA]:{withQualityScore:!1,withRating:!1},[z.NK.GRID]:{withLikes:!0}},be={[z.xY.ACCENT_THUMB_HORIZONTAL]:{imageSize:de.KL.pjpg500x280,specialViewSettings:{horizontalAccentThumb:!0},supportVideo:{onlyLandscape:!1},withLogOnHover:!0,withQualityScore:!1},[z.xY.ACCENT_THUMB_VERTICAL]:{imageSize:de.KL.pjpg270x480,specialViewSettings:{verticalAccentThumb:!0},supportVideo:{onlyLandscape:!1},withLogOnHover:!0,withQualityScore:!1},[z.xY.ADAPTIVE_RECOMMENDED_NEW]:{imageSize:de.rb.pjpg464x261_2x,supportVideo:{onlyLandscape:!0},withHyphens:!0},[z.xY.ALL_GAMES_DESKTOP]:{withBadges:!1,withGameInfoSize:"xs",withHiddenDescription:!0,withHyphens:!0,withInfo:!1,withLikes:!1,withLogOnHover:!1,withTitleOnCard:!1},[z.xY.ALL_GAMES_MOBILE]:{withBadges:!1,withHyphens:!0,withInfo:!1,withLikes:!1,withLogOnHover:!1},[z.xY.ALL_GAMES_TABLET]:{withBadges:!1,withHyphens:!0,withInfo:!1,withLikes:!1,withLogOnHover:!1},[z.xY.CATEGORIZED_NEW_L]:{imageSize:de.KL.pjpg350x209,supportVideo:{onlyLandscape:!0}},[z.xY.FIT_CONTAINER]:{imageSize:de.KL.pjpg500x280,supportVideo:{onlyLandscape:!0},withCaptionOnCard:!0},[z.xY.HIT]:{imageSize:de.rb.pjpg464x261_2x,supportVideo:{onlyLandscape:!1},withHyphens:!0,withIcon:!0,withLogOnHover:!0},[z.xY.HIT_M_SQUARE]:{imageSize:de.KL.pjpg340x340,supportVideo:{onlyLandscape:!1},withLogOnHover:!0},[z.xY.L]:{imageSize:de.KL.pjpg350x209,supportVideo:{onlyLandscape:!0}},[z.xY.M]:{withHiddenDescription:!0,withTitleOnCard:!1},[z.xY.PREMIUM]:{imageSize:de.KL.pjpg212x212},[z.xY.PREMIUM_BIG]:{imageSize:de.KL.pjpg480x270,supportVideo:{onlyLandscape:!0},withHyphens:!0},[z.xY.S]:{imageSize:de.KL.pjpg160x160},[z.xY.SIZE_40_HIGH_RES]:{imageSize:de.KL.default84x84,withHyphens:!0,withInfo:!1},[z.xY.SIZE_48_HIGH_RES]:{imageSize:de.KL.pjpg128x128,withHyphens:!0,withInfo:!1},[z.xY.RECENT_GAMES_COVER_LARGE]:{imageSize:de.KL.pjpg464x261,supportVideo:{onlyLandscape:!0},withHiddenDescription:!0,withQualityScore:!1},[z.xY.RECENT_GAMES_COVER_MEDIUM]:{imageSize:de.KL.pjpg350x209,supportVideo:{onlyLandscape:!0},withHiddenDescription:!0,withQualityScore:!1},[z.xY.RECENT_GAMES_COVER_MEDIUM_WITH_GAME_ICON]:{imageSize:de.KL.pjpg350x209,supportVideo:{onlyLandscape:!0},withCategory:!0,withGameInfoSize:"l",withHiddenDescription:!1,withHyphens:!0,withIcon:!0},[z.xY.RECENT_GAMES_COVER_SMALL]:{imageSize:de.KL.pjpg175x104,supportVideo:{onlyLandscape:!0},withHiddenDescription:!0,withQualityScore:!1},[z.xY.RECOMMENDED_NEW]:{imageSize:de.KL.pjpg350x209,supportVideo:{onlyLandscape:!0},withHiddenDescription:!0,withHyphens:!0},[z.xY.TV]:{imageSize:de.KL.pjpg526x314,supportVideo:{onlyLandscape:!0},withHyphens:!0},[z.xY.YOUR_GAMES]:{imageSize:de.rb.pjpg128x128_2x},[z.xY.PROFILE_RECENT_GAMES]:{imageSize:de.KL.pjpg250x140}},we=["search","home"];var Ce=i(55460),Se=i(78339),xe=i(56535),ke=i(99251),Pe=i(33376),Ie=Object.defineProperty,Te=Object.defineProperties,je=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Le=(e,t,i)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,De=(e,t)=>{for(var i in t||(t={}))ze.call(t,i)&&Le(e,i,t[i]);if(Oe)for(var i of Oe(t))Ee.call(t,i)&&Le(e,i,t[i]);return e};const Ne=[z.co.PLAYED,z.co.RECENT_GAMES_COMPACT];function Re(e,t,i,r,a){var n;const s=(null!=(n=e.redirParams.firstScreen)?n:r)?1:0,c=(0,l.C)(e=>e.rtxReqid),d=function(e,t){var i,r;const a=(0,l.C)(e=>e.disableVideos),o=null==(r=null==(i=e.media)?void 0:i.videos)?void 0:r[0];if(!t.supportVideo||a||!o)return!1;const{width:n,height:s,previewUrl:c}=o;return t.supportVideo.onlyLandscape?Boolean(c&&n>s):Boolean(c)}(e.game,t),u=(0,o.useMemo)(()=>{return((e,t,i)=>{const{block:r,carouselSize:a,column:o,sameBlockIndex:n,line:s,moreGamesCount:l,partnerEventType:c,wrapperName:d}=e,{game:u,listType:m,size:p}=t;let h=s;r!==le.Q.PROFILE&&!Ne.includes(m)&&(h+=i.hasRecentGamesNumber),void 0===r&&!m&&i.page&&(0,se.H)({message:"We don't expect that page will be logged as block. Please provide block to redirParams",additional:{redirParams:e,options:i}});const g={block:null!=r?r:m,block_index:h,card:p,col:null!=o?o:("column"in u?u.column:void 0)||0,first_screen:i.firstScreen,listType:m,page:i.page,row:i.row,rtx_reqid:i.rtxReqid,same_block_index:null!=n?n:0,wrapper:d};return a&&(g.carousel_size=a),u.gamesRequestId&&(g.games_request_id=u.gamesRequestId),void 0!==u.requestId&&(g.request_id=u.requestId),"number"==typeof l&&(g.elem=le.a.SHOW_MORE),c&&(g.partner_event_type=c),g})(e.redirParams,{game:e.game,listType:e.listType,size:e.size},{hasRecentGamesNumber:Number(i),firstScreen:s,page:a,rtxReqid:c||"",row:(t=e.game,r=e.redirParams,void 0===r.row?"row"in t&&void 0!==t.row?t.row-(r.correctRow||0):0:r.row)});var t,r},[e.redirParams,e.game,e.listType,e.size,i,s,a,c]),m=(0,o.useMemo)(()=>function(e,{game:t,hasVideo:i,moreGamesCount:r}){var a=e,{app_id:o,game_id:n,rn:s}=a,l=((e,t)=>{var i={};for(var r in e)ze.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&Oe)for(var r of Oe(e))t.indexOf(r)<0&&Ee.call(e,r)&&(i[r]=e[r]);return i})(a,["app_id","game_id","rn"]);const c=(0,xe.L)(),d="source"in t?t.source:void 0,u=De(((e,t)=>Te(e,je(t)))(De({},l),{has_video:i,item:Pe.SS.GAME,source:d,url:(0,ke.e)().href}),c);return"recentlyPlayed"in t&&t.recentlyPlayed&&(u.my_games_indication=1),r?u.item=Pe.SS.BLOCK:(u.app_id=t.appID,u.game_id=t.appID),u}(u,{game:e.game,hasVideo:d,moreGamesCount:"number"==typeof e.moreGamesCount}),[d,e.game,e.moreGamesCount,u]);return{redirDataForGame:u,redirDataForLogs:m}}var Fe=i(85031),Ge=Object.defineProperty,Ae=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Ue=(e,t,i)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Be=i(65147),Me=i(92026);var $e=i(93335),Ze=i(49608);var qe=i(2592),Ke=i(60617);const We=2*qe.WT;var Je=i(41020),Ye=i(27390),Qe=i(73547),Xe=i(21882),et=i(45025),tt=i(76753);const it=e=>{const{line:t,listType:i,game:a,gameCardRef:n}=e,{pixelNames:s,addPixelName:l}=function(){const[e,t]=(0,o.useState)(new Set);return{pixelNames:e,addPixelName:(0,o.useCallback)(e=>t(t=>{if(t&&!t.has(e)){const i=new Set(t);return i.add(e),i}return t}),[t])}}(),c=function(e,t){const i="visibility_links"in e?e.visibility_links:void 0;return(0,o.useCallback)(()=>{(null==i?void 0:i.length)?(t("games_from_bk_hit"),Promise.all(i.map(t=>(0,Ze.Z)(t,{credentials:"include"}).catch(i=>{throw function({error:e,game:t,link:i}){var r;(0,se.H)({prefix:"GameCard",block:ce.W.CATALOG,message:"Failed to hit visibility link",additional:{link:i}},e),null==(r=window.clickdaemonLog)||r.call(window,oe.C.BK_HIT_COUNTER_ERROR,{app_id:t.appID,game_id:t.appID,link:i})}({link:t,error:i,game:e}),i}))).catch(()=>{t("games_from_bk_hit_failed")})):t("games_from_bk_no_hit_link")},[i,t,e])}(a,l),d=function(e,t){const i=(0,Qe.j)();return(0,o.useMemo)(()=>(0,Xe.VX)({currentTab:i,listType:t,line:e}),[i,e,t])}(t,i),u=function(){const{abt:{flags:e}}=(0,S.b)(),t=(0,Ke.$9)(e,Ye.Z.promoIntersactionObserverThreshold)||.9,[i,r]=(0,o.useState)(null);return(0,o.useEffect)(function(){r((0,Je.V)("hit_bk_manager",{root:null,rootMargin:"0px",threshold:t}))},[t]),i}(),m=function(e,t,i){const{abt:{flags:r}}=(0,S.b)(),a=(0,Ke.nD)(r),n=(0,o.useRef)(null);return(0,o.useCallback)(r=>{if(r.intersectionRatio<=0)return;const o=()=>{null==i||i.unobserve(t.current),n.current&&window.clearTimeout(n.current),e()};if(a){if(!r.isIntersecting&&n.current)return void window.clearTimeout(n.current);n.current=window.setTimeout(o,We)}else o()},[t,e,i,a])}(c,n,u);return(0,tt.q)(()=>{(0,se.Kz)("game_card_promo_render",1,{prefix:"GameCard",message:"bk_promo render",block:ce.W.CATALOG,additional:{isMobile:!1,isDesktop:!0,isTV:!1},source:"catalog"})}),(0,o.useEffect)(()=>{var e;const t=n.current;return"visibility_links"in a&&(null==(e=a.visibility_links)?void 0:e.length)&&t&&u&&(l("games_from_bk_observer_set"),u.observe(t,m)),()=>{null==u||u.unobserve(t)}},[l,a,n,u,m]),Array.from(s.values()).map(e=>(0,r.jsx)(et.Z,{event:e,once:!1,place:d,type:"histogram",uniqId:"game_card_hit_link_counter",value:1},e))};var rt=Object.defineProperty,at=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,ct=(e,t,i)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;const dt=e=>{var t;const{game:i,forceHover:n,isFirstGame:c,listType:d,moreGamesCount:u,onClick:m,size:p}=e,{catalogSessionUid:h,currentTab:g,hasRecentGames:v,page:_,showCallbackTimeout:y}=e,f=(0,o.useRef)(null),[b,w]=(0,o.useState)(!0),C=(0,l.T)(),x=function({currentTab:e,listType:t,wrapperName:i,size:r}){const a=!we.includes(e);return(0,o.useMemo)(()=>function({size:e,listType:t,wrapperName:i,enableTitleOnCard:r}){const a=be[e];if(!a)return console.error(`Config for size=${e} absence, please, use size that has config`),_e;const o=ye[t]||{},n=fe[i]||{},s=ve(ve(ve(ve({},_e),o),n),a);return s.withTitleOnCard=!s.withCaptionOnCard&&s.withTitleOnCard&&r,s}({size:r,listType:t,wrapperName:i,enableTitleOnCard:a}),[a,t,i,r])}({currentTab:g,listType:d,wrapperName:e.redirParams.wrapperName,size:p}),k=function(e){const{isSearchCrawler:t}=(0,Fe.P)();return(0,o.useMemo)(()=>{if((null==navigator?void 0:navigator.connection)&&!t){const e=navigator.connection.effectiveType;if(z.$.includes(e))return!1}return Boolean(e)},[e,t])}(n),{hover:P,setHover:I,hoverTs:T,setHoverTs:j}=function(e){const[t,i]=(0,o.useState)(e),[r,a]=(0,o.useState)(null),n=(0,Se.D)(e);return(0,o.useEffect)(()=>{e!==n&&i(e)},[e,n]),{hover:t,setHover:i,hoverTs:r,setHoverTs:a}}(k),{redirDataForGame:O,redirDataForLogs:E}=Re(e,x,v,b,_),L=(e=>(0,o.useCallback)((t,i)=>{var r;const a=((e,t)=>{for(var i in t||(t={}))Ve.call(t,i)&&Ue(e,i,t[i]);if(Ae)for(var i of Ae(t))He.call(t,i)&&Ue(e,i,t[i]);return e})({},e);return t===oe.C.CLICK&&(a.elem=null==i?void 0:i.clickElement),void 0!==(null==i?void 0:i.overrideFirstScreen)&&(a.first_screen=i.overrideFirstScreen?1:0),null==(r=window.clickdaemonLog)||r.call(window,t,a,null==i?void 0:i.isImmediateSend),a},[e]))(E),D=function({config:e,game:t}){const i=(0,l.C)(e=>e.disableVideos);return(0,o.useMemo)(()=>{var r,a;const o=null==(a=null==(r=t.media)?void 0:r.videos)?void 0:a[0];if(!e.supportVideo||i||!o)return!1;const{width:n,height:s,previewUrl:l}=o;return e.supportVideo.onlyLandscape?Boolean(l&&n>s):Boolean(l)},[t,e,i])}({config:x,game:i});!function(e){const{config:t,hover:i,redirDataForGame:r,game:a,listType:n,shouldShowVideoPreview:s}=e,l=(0,Se.D)(i),c=t.withLogOnHover;(0,o.useEffect)(()=>{c&&"boolean"==typeof l&&l!==i&&(i?function({game:e,listType:t,redirDataForGame:i,shouldShowVideoPreview:r}){const{block:a,block_index:o,same_block_index:n,col:s,row:l,first_screen:c,carousel_size:d,card:u,wrapper:m,elem:p,page:h,partner_event_type:g}=i;Me.H.dispatch((0,Be.b8)({appId:e.appID,blockIndex:o,block:a,col:s,row:l,card:u,wrapper:m,firstScreen:c,carouselSize:d,elem:p,hasVideo:r,autoplay:!1,item:"game",listType:t,page:h,partnerEventType:g,requestId:e.requestId,sameBlockIndex:n}))}({game:a,listType:n,redirDataForGame:r,shouldShowVideoPreview:s}):function(e){Me.H.dispatch((0,Be.nn)({appId:e.appID}))}(a))},[l,i,r,a,n,s,c])}({config:x,forceHover:n,hover:P,redirDataForGame:O,game:i,listType:d,shouldShowVideoPreview:D});const{onHoverOn:N,onHoverOff:R,onMouseMove:F,onTouchStart:G,onTouchStartCapture:A}=function(e,t){const{game:i,onHover:r,onTapHoverCapture:a,isUserScrolling:n,onUnhover:s,forceHover:l}=e,{config:c,setHover:d,hover:u,hoverTs:m,setHoverTs:p}=t,h=(0,o.useCallback)(()=>{a&&(null==n?void 0:n.current)||(c.withHoverStates&&d(!0),null==r||r(i))},[c.withHoverStates,r,i,a,n,d]),g=(0,o.useCallback)(()=>{c.withHoverStates&&d(!1),null==s||s(i)},[c.withHoverStates,s,i,d]),v=(0,o.useCallback)(()=>{u||h()},[u,h]),_=(0,o.useCallback)(e=>{m!==e.timeStamp&&(c.withHoverStates&&d(!1),window.removeEventListener("touchstart",_))},[c.withHoverStates,m,d]),y=(0,o.useCallback)(e=>{a||(u?e.stopPropagation():(c.withHoverStates&&(d(!0),p(e.timeStamp)),window.addEventListener("touchstart",_,{passive:!0})))},[c.withHoverStates,u,a,d,p,_]),f=(0,o.useCallback)(()=>{a&&((null==n?void 0:n.current)||(l?null==a||a(i):u||(c.withHoverStates&&d(!0),null==a||a(i))))},[c.withHoverStates,u,l,a,i,n,d]);return{onHoverOn:h,onHoverOff:g,onMouseMove:v,onTouchStart:y,onTouchStartCapture:f}}(e,{config:x,hover:P,setHover:I,hoverTs:T,setHoverTs:j}),V=function(e,t){const{game:i}=e,{setIsFirstScreen:r,sendClickDaemonLog:a}=t,{baseUrl:n,recommenderApiUrl:s}=(0,S.b)();return(0,o.useCallback)(e=>{r(e),(0,$e.yO)({appID:i.appID,baseUrl:n,recommenderApiUrl:s}),a(oe.C.SHOW,{overrideFirstScreen:e})},[n,i.appID,s,a,r])}(e,{setIsFirstScreen:w,sendClickDaemonLog:L}),H=function(e){const{catalogSessionUid:t,game:i,gameCardRef:r,moreGamesCount:a,onClick:n,onHoverOff:s,sendClickDaemonLog:l}=e,{appID:c}=i,{oneTabPWA:d,location:u}=(0,S.b)(),m="click_link"in i?i.click_link:void 0,p=(0,o.useRef)("");return(0,o.useCallback)(e=>{if(p.current!==t&&e.target instanceof HTMLElement&&function(e,t){const i=t.closest(".play");return Boolean(i)&&e.contains(i)}(e.currentTarget,e.target)&&(p.current=t,!(null==r?void 0:r.current)))return;let i;var o;"number"==typeof a?i=le.a.SHOW_MORE:e.target instanceof HTMLElement&&(i=(o=e.target).classList.contains("game-card__game-info")?le.a.INFO:o.classList.contains("game-card__title")?le.a.TITLE:o.classList.contains(re)?le.a.REACTION:le.a.CARD);const h=(0,ne.V)({utm_medium:null==u?void 0:u.entryQuery},window.navigator.userAgent),g=d||h,v={};void 0!==i&&(v.clickElement=i),void 0!==g&&(v.isImmediateSend=g);const _=l(oe.C.CLICK,v);i!==le.a.REACTION&&s(),m&&fetch(m).then(e=>{if(200!==e.status)throw new Error(`Game click_link fetch return ${e.status}`)}).catch(e=>{(0,se.H)({prefix:"GameCard",block:ce.W.CATALOG,message:"Failed to fetch click link",additional:{clickLink:m}},e)}),n&&n(e,c,_)},[t,a,null==u?void 0:u.entryQuery,d,l,m,n,r,s,c])}({catalogSessionUid:h,game:i,gameCardRef:f,moreGamesCount:u,onClick:m,onHoverOff:R,sendClickDaemonLog:L}),U=(0,l.C)(e=>e.gamesReactions.firstGameWithReactions),B=(0,l.C)(e=>e.gamesReactions.isTooltipVisible),M=(0,Ce.t)({gameCardRef:f,showCallback:V,showCallbackTimeout:y}),{withLikes:$}=x,Z=B&&U===i.appID?"expandedWithTooltip":void 0,q=null!=(t=e.reactionsPanelState)?t:Z;return(0,o.useEffect)(()=>{$&&!1!==c&&!U&&(0,a.v_)({on:"game_likes"})&&C((0,s.Ry)(i.appID))},[C,U,i.appID,c,$]),(0,r.jsx)(ae,((e,t)=>at(e,ot(t)))(((e,t)=>{for(var i in t||(t={}))st.call(t,i)&&ct(e,i,t[i]);if(nt)for(var i of nt(t))lt.call(t,i)&&ct(e,i,t[i]);return e})({},e),{config:x,hover:P,reactionsPanelState:q,redirDataForGame:O,shouldShowVideoPreview:D,shouldShowVisibleDebugOverlayPaint:M,onClick:H,onHover:N,onMouseMove:F,onRef:f,onTouchStart:G,onTouchStartCapture:A,onUnhover:R,children:"source"in i&&i.source===z.yH&&(0,r.jsx)(it,{game:i,gameCardRef:f,line:e.redirParams.line,listType:d})}))}},55460:(e,t,i)=>{i.d(t,{H:()=>c,t:()=>d});var r=i(87363),a=i(77314),o=i(87986),n=i(60617);const s=.5,l=800;function c(e){var t;return null!=(t=(0,n.l6)(e))?t:l}function d(e){var t;const{gameCardRef:i,showCallback:l}=e,{abt:{flags:d}}=(0,a.b)(),[u,m]=(0,r.useState)(!1),p=null!=(t=e.showCallbackTimeout)?t:c(d),h=(0,r.useCallback)(e=>{(null==i?void 0:i.current)&&(l(Boolean(e.firstScreen)),(0,n.sv)(d)&&m(!0))},[d,i,l]);return(0,o.V)({ref:i,onShow:h,threshold:s,delay:p}),u}},77944:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(57627),a=i(13504),o=i(4522);const n=e=>{var t;const{game:i,noStickyBadge:n,config:s,showBadgesOnlyOnHover:l,b:c}=e;if(!s.withBadges)return null;const d=(u=null==(t=i.features)?void 0:t.age_rating)&&parseInt(u,10)>=16?u:void 0;var u;const{badgeTitle:m,badgeType:p}=i.badge||{},h="recentlyPlayed"in i&&i.recentlyPlayed&&l&&!s.withTitleOnCard;return(0,r.jsx)(a.Z,{ageRating:d,badgeTitle:m,gqRating:s.withQualityScore?i.gqRating:void 0,mix:(0,o.E)(h&&c("show-on-hover"),s.withTitleOnCard&&c("hide-on-hover")),noStickyBadges:n||h,rating:s.withRating?i.rating:void 0,type:p})}},7820:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(57627),a=i(4522);const o=({logo:e,right:t,className:i,children:o,contentClassName:n,logoClassName:s,sticky:l})=>(0,r.jsxs)("header",{className:(0,a.E)("header-wrapper-critical-module__header--l2VyS",i,l&&"header-wrapper-critical-module__sticky--JoQ8i"),"data-testid":"header",children:[(0,r.jsx)("div",{className:(0,a.E)("header-wrapper-critical-module__logo--r5ane",s),children:e}),(0,r.jsx)("div",{className:(0,a.E)("header-wrapper-critical-module__content--W5hRM",n),children:o}),t&&(0,r.jsx)("div",{className:"header-wrapper-critical-module__right--Eak8t","data-nosnippet":"true",children:t})]})},73729:(e,t,i)=>{i.d(t,{O:()=>r});const r=(0,i(87363).createContext)({clickDaemonParams:{},metrikaParams:{},sendClickDaemon:()=>{}})},57901:(e,t,i)=>{i.d(t,{Z:()=>_});var r=i(57627),a=i(66287),o=i(57233),n=i(84383),s=i(87363),l=i.n(s),c=i(61533),d=i(21240);const u=({query:e,suggest:t,searchIcon:i,onClick:a})=>{const o=(0,s.useMemo)(()=>{const i=t.toLowerCase(),a=e.toLowerCase(),o=i.split(a);return(0,r.jsx)("span",{children:o.map((e,t)=>(0,r.jsxs)(l().Fragment,{children:[e,t<o.length-1&&(0,r.jsx)("b",{children:a})]},t))})},[e,t]),n=(0,s.useCallback)(()=>{a(t)},[a,t]);return(0,r.jsxs)("div",{className:"suggest-row-critical-module__suggestion--jF8Gb",onClick:n,children:[i,o]})};var m=i(94129),p=i(77314);const h=()=>(0,r.jsx)("div",{className:"suggest-popup-critical-module__suggestOverlay--DB2kA"}),g=()=>{const{getPageEl:e,getHeaderEl:t}=(()=>{const{pageRef:e,rootRef:t}=(0,p.b)();return(0,s.useMemo)(()=>({getPageEl:()=>{var t,i;return null!=(i=e.current)?i:null==(t=document.body)?void 0:t.querySelector("main")},getHeaderEl:()=>{var e,i,r;return null!=(r=null==(e=t.current)?void 0:e.querySelector("header"))?r:null==(i=document.body)?void 0:i.querySelector("header")}}),[e,t])})();(0,s.useEffect)(function(){const t=e();if(t)return(0,n.Qp)(t),()=>{(0,n.tG)(t)}},[e]);const i=t(),a=e();return i&&a?(0,r.jsxs)(r.Fragment,{children:[(0,c.createPortal)((0,r.jsx)(h,{}),i),(0,c.createPortal)((0,r.jsx)(h,{}),a)]}):null},v=e=>"success"===e.type&&e.value.length>0,_=e=>{const{withOverlay:t=!0}=e,i=(0,p.b)(),n=(0,m.Z)().iconLeft,{popupRef:l}=(e=>{const t=(0,s.useRef)(null),i=(0,s.useRef)("");return(0,s.useEffect)(function(){const r=t.current,o=e.current,n=()=>{requestAnimationFrame(function(){if(!r||!o)return;const e=o.clientWidth;let t="0";try{const a=i.current||getComputedStyle(r).getPropertyValue("--sticky-header-wrap-bg-size"),[o=""]=a.split("px");i.current||(i.current=a),e<parseInt(o,10)&&(t="")}catch(e){}finally{r.style.width=`${e}px`,r.style.backgroundPositionX=t}})};return n(),window.addEventListener("resize",n,{passive:!0}),a.default.addChangeListener(n),()=>{window.removeEventListener("resize",n),a.default.removeChangeListener(n)}}),{popupRef:t}})(e.searchContainerRef),c=(0,s.useRef)(e.suggests),h=(0,s.useMemo)(()=>{const t=e.suggests;return c.current!==e.suggests?"loading"===t.type&&v(c.current)?c.current:(c.current=t,t):c.current},[e.suggests]);if((0,d.s)("search-suggest-popup",v(h),1e3))return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(g,{}),(0,r.jsx)(o.GI,{anchor:e.searchContainerRef,className:"suggest-popup-critical-module__suggestPopup--vw9fb",direction:"bottom-start",innerRef:l,noFlip:!0,noOverflow:!0,scope:i.rootRef,visible:!0,onClose:e.clearSuggest,children:(0,r.jsx)("div",{className:"suggest-popup-critical-module__suggestList--q44Nj",children:h.value.map(t=>(0,r.jsx)(u,{query:h.query,searchIcon:n,suggest:t,onClick:e.onClick},t))})})]})}},81032:(e,t,i)=>{i.d(t,{Z:()=>ae});var r=i(57627),a=i(87363),o=i.n(a),n=i(36329),s=i(55990),l=i(85802);const c=({canUseMiniButton:e,showSearchForm:t,handleShowSearchForm:i})=>((0,l.m)(),null),d=i(57901).Z;var u=i(78339),m=i(43774),p=i(68927),h=i(22557),g=i(38225),v=i(90657),_=i(66490),y=i(77314),f=i(36850),b=i(18732),w=i(29513),C=Object.defineProperty,S=Object.defineProperties,x=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,T=(e,t,i)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;const j=e=>{const{onInputChange:t,onSubmit:i,onClearClick:r,removeFocusFromInput:o}=e,n=(0,p.TH)(),s=(0,p.s0)(),l=n.pathname===w.iu,[c,d]=(0,a.useState)(()=>{if(l){const e=(0,b.eC)(n);if((0,b.Q5)(e))return e}return""}),C=(0,a.useMemo)(()=>(0,b.Q5)(c.trim()),[c]),{handleSubmit:j}=(({location:e,searchValue:t,navigate:i,removeFocusFromInput:r,onSubmit:o})=>{const n=(0,y.b)(),s=(0,g.T)();return{handleSubmit:(0,a.useCallback)(a=>{const l=("string"==typeof a?a:"")||t;s((0,h.vP)({baseUrlWithLangPath:n.baseUrlWithLangPath,currentSearchValue:l,pathsMapping:n.pathsMapping,location:e,navigate:i,onDone:()=>{r(),null==o||o()}}))},[n,s,e,i,o,r,t])}})({location:n,navigate:s,searchValue:c,onSubmit:i,removeFocusFromInput:o}),{handleInputChange:O,clearSuggest:z,suggests:E}=(({setSearchValue:e,onInputChange:t})=>{const{triggerSuggest:i,clearSuggest:r,suggests:o}=(()=>{const e=(0,g.T)(),t=(0,g.C)(v.c),i=(0,a.useCallback)(()=>{e((0,h.zg)())},[e]),r=(0,a.useMemo)(()=>(0,_.D)((t,i)=>{e((0,h.q)(t,i))},300),[e]);return(0,a.useEffect)(()=>()=>{r.cancel(),i()},[i,r]),{triggerSuggest:r,clearSuggest:i,suggests:t}})();return{handleInputChange:(0,a.useCallback)(a=>{const o=a.target.value;if(e(o),null==t||t(o),(0,m.v_)({on:"search_suggest"})){const e=o.trim();(0,b.QE)(e)?i(e):r()}},[r,t,e,i]),clearSuggest:r,suggests:o}})({onInputChange:t,setSearchValue:d}),L=(0,a.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),(0,f.D)(z),j())},[j,z]),D=(0,a.useCallback)(e=>{O({target:{value:""}}),null==r||r(e)},[O,r]);return(({navigate:e,location:t,searchValue:i,setSearchValue:r,isSearchPage:o})=>{const n=(0,a.useCallback)(()=>{const i=(0,b.gw)(t,"query");var a;i!==t.search&&e((a=((e,t)=>{for(var i in t||(t={}))P.call(t,i)&&T(e,i,t[i]);if(k)for(var i of k(t))I.call(t,i)&&T(e,i,t[i]);return e})({},t),S(a,x({search:i}))),{replace:!0}),r("")},[t,e,r]),s=(0,u.D)(t);(0,a.useEffect)(function(){if(void 0===s)return;s.pathname!==t.pathname&&i&&!o&&n();const e=(0,b.eC)(t);o&&(0,b.eC)(s)!==e&&e!==i&&r(e)},[n,o,t,i,s,r])})({isSearchPage:l,location:n,navigate:s,searchValue:c,setSearchValue:d}),(0,a.useEffect)(()=>()=>{d("")},[]),{suggests:E,searchValue:c,isValueValid:C,handleClearClick:D,handleInputChange:O,handleKeyDown:L,handleSubmit:j,handleSuggestClear:z,handleSuggestClick:j}};var O=i(93335),z=i(11972),E=Object.defineProperty,L=Object.defineProperties,D=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,G=(e,t,i)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,A=(e,t)=>{for(var i in t||(t={}))R.call(t,i)&&G(e,i,t[i]);if(N)for(var i of N(t))F.call(t,i)&&G(e,i,t[i]);return e};const V=e=>{const{handleSearchRef:t,removeFocusFromInput:i,setFocusToInput:r}=(({onSearchRef:e})=>{const t=(0,a.useRef)(),i=(0,a.useCallback)(()=>{var e;null==(e=t.current)||e.blur()},[]),r=(0,a.useCallback)(()=>{var e;null==(e=t.current)||e.focus()},[]),o=(0,a.useCallback)(i=>{i&&(t.current=i,null==e||e(i))},[e,t]);return{searchRef:t,removeFocusFromInput:i,setFocusToInput:r,handleSearchRef:o}})({onSearchRef:e.handleSearchRef}),o=j({removeFocusFromInput:i,onInputChange:e.handleInputChange,onSubmit:e.handleSubmit,onClearClick:e.onClearClick}),n=(({forceHide:e,canUseMiniButton:t,onBlur:i,onActiveSearchChange:r,onHideComplete:o,isValueValid:n,setFocusToInput:s})=>{const[c,d]=(0,a.useState)(!t),m=(0,l.m)(),p=(0,a.useCallback)(()=>{d(!0),null==r||r(!0),(0,f.D)(()=>{s()})},[r,s]),h=(0,a.useCallback)(()=>{d(!1),null==r||r(!1),(0,f.D)(()=>{null==o||o()})},[r,o]),g=(0,a.useCallback)(()=>{m&&!n&&(t?h():null==r||r(!1)),null==i||i()},[t,h,n,r,i,m]);return(({forceHide:e,canUseMiniButton:t,setIsShowSearchForm:i,handleHideSearchForm:r,onActiveSearchChange:o})=>{const n=(0,u.D)(t);(0,a.useEffect)(function(){void 0!==n&&n!==t&&(i(!t),null==o||o(!t))},[t,o,n,i]);const s=(0,u.D)(e);(0,a.useEffect)(function(){void 0!==s&&e&&!s&&r()},[e,r,s])})({forceHide:e,canUseMiniButton:t,setIsShowSearchForm:d,handleHideSearchForm:h,onActiveSearchChange:r}),{isShowSearchForm:c,handleShowSearchForm:p,handleBlur:g}})({isValueValid:o.isValueValid,setFocusToInput:r,canUseMiniButton:e.canUseMiniButton,forceHide:e.forceHide,onActiveSearchChange:e.onActiveSearchChange,onBlur:e.onBlur,onHideComplete:e.onHideComplete}),{handlePopup:s}=(e=>{const t=(0,g.T)();return{handlePopup:(0,a.useCallback)(()=>{if(!e.searchInPopup)return null;t((0,O.fK)(!0)),(0,z.Z)("search",()=>{t((0,O.fK)(!1))})},[t,e.searchInPopup])}})({searchInPopup:e.searchInPopup});return c=A(A({},o),n),L(c,D({handleSearchRef:t,handlePopup:s}));var c};var H=i(4522),U=i(36537);var B=i(85031);const M=({children:e,className:t,disabled:i,onClick:a})=>{const{isSearchCrawler:o}=(0,B.P)();return(0,r.jsx)(n.z,{className:t,"data-testid":"search-button",disabled:i,size:40,type:o?"submit":"button",view:"secondary-transparent",onClick:a,children:e})};var $=i(56053),Z=i(89957),q=i(33249),K=i(94129),W=i(73520),J=i(39138),Y=Object.defineProperty,Q=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t,i)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;const ie=({autoFocus:e,forceClearIcon:t,onBlur:i,onChange:o,onClearClick:n,onKeyDown:l,onRef:c,placeholder:d,value:u})=>{const p=(0,K.Z)(),h=(0,a.useRef)(!1),v=(0,a.useRef)(!1),_=(0,a.useRef)(null),[y,f]=(0,a.useState)(!1),b=(0,g.C)(q.pz),w=(0,J.T)(),C=(0,a.useCallback)(()=>{null==n||n(Boolean(u))},[n,u]),S=(0,a.useCallback)(()=>{var e;v.current=!0,null==(e=window.clickdaemonLog)||e.call(window,W.C.SEARCH,((e,t)=>{for(var i in t||(t={}))X.call(t,i)&&te(e,i,t[i]);if(Q)for(var i of Q(t))ee.call(t,i)&&te(e,i,t[i]);return e})({reason:"click",position:"input"},(0,m.v_)({on:"new_game_navigation"})&&{gamePage:!0,state:b?"middleLayer":"play"}))},[b]),x=(0,a.useCallback)(()=>{h.current&&v.current||S()},[S]),k=(0,a.useCallback)(()=>{h.current=!0,f(!0)},[]),P=(0,a.useCallback)(()=>{setTimeout(()=>{document.hidden||(h.current=!1,v.current=!1,(0,Z.D)())},0),i(),f(!1)},[i]),I=(0,a.useCallback)(()=>{_.current&&(_.current.value="",_.current.value=u,_.current.focus())},[_,u]),T=(0,a.useCallback)(e=>{e&&(c(e),_.current=e)},[c]),j=(0,r.jsxs)(r.Fragment,{children:[p.iconLeft,y?null:(0,r.jsx)("div",{className:"search__input_focus_panel",onClick:I})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"search-critical-module__hidden--PY_Gg",htmlFor:"search-input",children:w("search.placeholder.find-game")}),(0,r.jsx)($.I,{addonLeft:j,"aria-label":w("search.placeholder.find-game"),autoComplete:"off",autoFocus:e,className:(0,H.E)("search-critical-module__input--ty8W1",y&&"search__focused"),clearIcon:(0,r.jsx)(s.Z,{className:"search-critical-module__clearIcon--FGTza","data-testid":"search-clear-icon"}),controlClassName:"search-critical-module__control--GO2Dx","data-testid":"search-text-input",forceClearIcon:t,id:"search-input",name:"query",placeholder:d,ref:T,size:40,type:"search",value:u,onBlur:P,onChange:o,onClearClick:C,onClick:x,onFocus:k,onKeyDown:l})]})};var re=i(32743);const ae=o().memo(e=>{const{isShortPlaceholder:t=!1,containerRef:i=null}=e,{baseUrlWithLangPath:o}=(0,y.b)(),n=(0,J.T)(),s=(0,a.useRef)(null),u=V(e),m=((0,l.m)(),(e=>{const t=(0,g.C)(e=>{var t;return Boolean(null==(t=e.searchPopup)?void 0:t.open)}),i=(0,l.m)(),r=(0,U.b)();return(0,a.useCallback)(()=>(0,H.E)("search","search-critical-module__search--BKkrq",e.searchInPopup&&"search-critical-module__searchInPopup--g8K3r",t&&"search-critical-module__searchInPopupOpen--Y42OJ",e.isValueValid&&"search-critical-module__isValueValid--KkD0w",!e.isShowSearchForm&&"search-critical-module__hideSearchForm--xZ8CX",!1,r&&"search-critical-module__newLayoutDesktop--W66lo",e.className),[e.className,e.isShowSearchForm,e.isValueValid,e.searchInPopup,t,i,r])})({className:e.className,searchInPopup:e.searchInPopup,isShowSearchForm:u.isShowSearchForm,isValueValid:u.isValueValid})),p=n(t?"search.placeholder.short":"search.placeholder.find-game"),{isSearchCrawler:h}=(0,B.P)();return(0,r.jsxs)("div",{className:m(),"data-testid":"search",ref:(0,re.l)(i,s),children:[(0,r.jsx)(c,{canUseMiniButton:e.canUseMiniButton,handleShowSearchForm:u.handleShowSearchForm,showSearchForm:u.isShowSearchForm}),(u.isShowSearchForm||!e.canUseMiniButton)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{action:`${o}/search`,className:"search-critical-module__form--DgdWH",method:"get",role:"search",onClick:u.handlePopup,children:[(0,r.jsx)(ie,{autoFocus:!1,forceClearIcon:e.forceClearIcon,placeholder:p,value:u.searchValue,onBlur:u.handleBlur,onChange:u.handleInputChange,onClearClick:u.handleClearClick,onKeyDown:u.handleKeyDown,onRef:u.handleSearchRef}),(u.isValueValid||h)&&(0,r.jsx)(M,{className:"search-critical-module__button--_F_uU",disabled:!u.isValueValid,onClick:u.handleSubmit,children:n("search.button.text")})]}),(0,r.jsx)(d,{clearSuggest:u.handleSuggestClear,searchContainerRef:s,suggests:u.suggests,onClick:u.handleSuggestClick})]})]})})},94129:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(57627),a=i(38225),o=i(96533),n=i(55990);const s=()=>({iconLeft:(0,a.C)(o.Up)?(0,r.jsx)(n.Z,{type:"search-white"}):(0,r.jsx)(n.Z,{type:"search"})})},33891:(e,t,i)=>{i.d(t,{M:()=>T});var r=i(57627),a=i(63904),o=i.n(a),n=i(2901),s=i(55990),l=i(68927),c=i(29513),d=i(60617),u=i(39138),m=i(38225),p=i(4522);function h(e,t,i){if((null==t?void 0:t.isPageValid)&&t.currentPage){const r=!t||1===t.currentPage,a=i("pagination.title",{params:{page:t.currentPage}});return r?e:i("page.header_with_page",{params:{title:e,paginationTitle:a}})}return e}var g=i(24046),v=Object.defineProperty,_=Object.defineProperties,y=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,C=(e,t,i)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,S=(e,t)=>{for(var i in t||(t={}))b.call(t,i)&&C(e,i,t[i]);if(f)for(var i of f(t))w.call(t,i)&&C(e,i,t[i]);return e};const x=o().with("section-header"),k=({withPaginationTitle:e,title:t})=>{const i=(0,m.C)(e=>e.pagination),a=(0,u.T)();return(0,r.jsx)("span",{className:x("text"),children:e?h(t,i,a):t})},P=e=>{const{block:t,categoryName:i,clickDaemonParams:a={},hideShowAllLink:o,titleLink:u}=e,m=(()=>{const{pathname:e}=(0,l.TH)();return(0,d.Ly)()&&e===c.Np})();if(!i||o)return(0,r.jsx)(k,S({},e));const p=(h=S({},a),v={block:t||`cat_${i}`,elem:g.a.BLOCK_TITLE},_(h,y(v)));var h,v;return(0,r.jsxs)(n.Z,{categoryName:i,clickDaemonParams:p,mix:x("category-link"),pathname:u,children:[(0,r.jsx)(k,S({},e)),(0,r.jsx)(s.Z,{alt:i,className:x("icon"),type:m?"arrow-short-forward-large":"arrow-short-forward"})]})},I=({customLink:e})=>e?(0,r.jsx)("span",{className:x("all-link"),onClick:e.onClick,children:e.content}):null,T=e=>{const{customLink:t,headLevel:i,mix:a}=e,o=(0,p.E)(x({centered:!1}),a);if(0===i)return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)("p",{className:`${x("header")}`,children:(0,r.jsx)(P,S({},e))}),(0,r.jsx)(I,{customLink:t})]});const n=`h${i||2}`;return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)(n,{className:`${x("header")}`,children:(0,r.jsx)(P,S({},e))}),(0,r.jsx)(I,{customLink:t})]})}},67207:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(57627),a=i(63904),o=i.n(a),n=i(33891),s=i(4522);const l=o().with("section"),c=e=>{const{children:t,headLevel:i,hasTitle:a=!0,onRef:o=()=>{},mix:c="",title:d}=e;return(0,r.jsxs)("section",{className:(0,s.E)(l(),c),ref:o,children:[a&&(0,r.jsx)(n.M,{headLevel:i,mix:l("title"),title:d}),(0,r.jsx)("div",{className:l("content"),children:t})]})}},12222:(e,t,i)=>{i.d(t,{Z:()=>r});const r=i(69706).Z},26812:(e,t,i)=>{i.d(t,{x:()=>p});var r=i(87363);const a=(e,t)=>{const i=(0,r.useRef)(null);return(0,r.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[]),(0,r.useCallback)((...r)=>{i.current&&(clearTimeout(i.current),i.current=null),t<0?e(...r):i.current=setTimeout(()=>e(...r),t)},[e,t])};var o=i(20779),n=i(38225),s=i(38411),l=(e=>(e.GAME_DISLIKE="reactions.dislike",e.GAME_LIKE="reactions.like",e))(l||{}),c=i(24912),d=i(40497),u=i(61712),m=(e,t,i)=>new Promise((r,a)=>{var o=e=>{try{s(i.next(e))}catch(e){a(e)}},n=e=>{try{s(i.throw(e))}catch(e){a(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);s((i=i.apply(e,t)).next())});const p=e=>{const t=(0,n.T)(),i=(0,c.n)(),d=h(),p=(0,s.k)(),g=(0,r.useCallback)((t,i,r)=>m(void 0,null,function*(){try{(0,u.NF)({},l.GAME_LIKE,{usageContext:e,isLiked:i}),yield d.setGameLiked(t,i)}catch(e){}}),[d,e]),v=(0,r.useCallback)((t,i,r)=>m(void 0,null,function*(){try{(0,u.NF)({},l.GAME_DISLIKE,{usageContext:e,isDisliked:i}),yield d.setGameDisliked(t,i)}catch(e){}}),[d,e]),_=a(g,500),y=a(v,500),f=(0,r.useCallback)((e,r)=>{const a=i[e];p(),t((0,o.GJ)(e,!!r||null)),_(e,r,a)},[_,t,p,i]),b=(0,r.useCallback)((e,r)=>{const a=i[e];p(),t((0,o.GJ)(e,!r&&null)),y(e,r,a)},[y,t,p,i]);return(0,r.useMemo)(()=>({handleLikeToggle:f,handleDislikeToggle:b}),[b,f])},h=()=>{const e=(0,d.z)(),t=(0,r.useCallback)((t,i,r)=>m(void 0,null,function*(){return r?yield e.makeRequest(t,"post",{body:{appID:i},directlyToBackend:!0}):yield e.makeRequest(t,"delete",{body:{appID:i},directlyToBackend:!0})}),[e]);return(0,r.useMemo)(()=>({setGameLiked:(e,i)=>m(void 0,null,function*(){yield t("users/v1/like/",e,i)}),setGameDisliked:(e,i)=>m(void 0,null,function*(){yield t("users/v1/dislike/",e,i)})}),[t])}},24912:(e,t,i)=>{i.d(t,{n:()=>a,r:()=>o});var r=i(38225);const a=()=>(0,r.C)(e=>e.gamesReactions.reactions),o=e=>{const t=a()[e.appID],i=void 0!==t;return{isLiked:i?!0===t:Boolean(e.liked),isDisliked:i?!1===t:Boolean(e.disliked)}}},19811:(e,t,i)=>{i.d(t,{A:()=>m});var r=i(57627),a=i(87363),o=i(62218);const n={toggleButton:"ToggleButton-critical-module__toggleButton--z7Ml3",empty:"ToggleButton-critical-module__empty--XKQ98",iconContainer:"ToggleButton-critical-module__iconContainer--e4Ho1",circleButton:"ToggleButton-critical-module__circleButton--rF8KM","size-40":"ToggleButton-critical-module__size-40--f3qf3","size-32":"ToggleButton-critical-module__size-32--Lozon",disabled:"ToggleButton-critical-module__disabled--XCAks",active:"ToggleButton-critical-module__active--hotV8",activeIcon:"ToggleButton-critical-module__activeIcon--VHlTG"},s=(0,a.memo)((0,a.forwardRef)((e,t)=>{const{size:i=40,disabled:s=!1,active:l=!1,onClick:c,"data-testid":d,children:u,view:m="circle"}=e,p=(({view:e,classes:t})=>(0,a.useMemo)(()=>{var i,r;const a="empty"===e;return{button:null==t?void 0:t.button,buttonActive:null!=(i=null==t?void 0:t.buttonActive)?i:a?void 0:n.active,icon:null==t?void 0:t.icon,iconActive:null!=(r=null==t?void 0:t.iconActive)?r:a?n.activeIcon:void 0}},[null==t?void 0:t.button,null==t?void 0:t.buttonActive,null==t?void 0:t.icon,null==t?void 0:t.iconActive,e]))(e);return(0,r.jsx)("button",{className:(0,o.y)(n.toggleButton,"circle"===m&&n.circleButton,"empty"===m&&n.empty,n[`size-${i}`],s&&n.disabled,p.button,l&&p.buttonActive),"data-testid":d,disabled:s,ref:t,type:"button",onClick:()=>{!s&&c&&c()},children:(0,r.jsx)("span",{className:(0,o.y)(n.iconContainer,p.icon,l&&p.iconActive),children:u})})}));s.displayName="ToggleButton";const l=s;var c=i(37692);const d={"button-active-like":"ReactionToggleButton-critical-module__button-active-like--dX24P","button-active-dislike":"ReactionToggleButton-critical-module__button-active-dislike--oFM3B","icon-active-like":"ReactionToggleButton-critical-module__icon-active-like--LjdXd","icon-active-dislike":"ReactionToggleButton-critical-module__icon-active-dislike--XcKjs","icon-like":"ReactionToggleButton-critical-module__icon-like--JhH0A","icon-dislike":"ReactionToggleButton-critical-module__icon-dislike--SmM7m",iconFill:"ReactionToggleButton-critical-module__iconFill--R9W8x"};var u=i(4522);const m=({onToggle:e,className:t,isActive:i,appID:o,view:n,size:s,type:m})=>{const p=(0,a.useCallback)(()=>{e(o,!i)},[o,i,e]),h="empty"===n,g={button:t,buttonActive:(0,u.E)(!h&&d[`button-active-${m}`]),icon:d.iconFill,iconActive:(0,u.E)(h&&d[`icon-active-${m}`])};return(0,r.jsx)(l,{active:i,classes:g,size:s,view:n,onClick:p,children:(0,r.jsx)(c.J,{alt:"",className:(0,u.E)(t,d[`icon-${m}`]),children:(0,r.jsx)(c.F,{})})})}},43247:(e,t,i)=>{i.d(t,{b:()=>u});var r=i(87363),a=i(73729),o=Object.defineProperty,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(e,t,i)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,d=(e,t)=>{for(var i in t||(t={}))s.call(t,i)&&c(e,i,t[i]);if(n)for(var i of n(t))l.call(t,i)&&c(e,i,t[i]);return e};function u(e){const t=(0,r.useContext)(a.O);return{metrikaParams:(0,r.useMemo)(()=>(null==e?void 0:e.metrikaParams)?d(d({},t.metrikaParams),null==e?void 0:e.metrikaParams):t.metrikaParams,[t.metrikaParams,null==e?void 0:e.metrikaParams]),clickDaemonParams:(0,r.useMemo)(()=>(null==e?void 0:e.clickDaemonParams)?d(d({},t.clickDaemonParams),null==e?void 0:e.clickDaemonParams):t.clickDaemonParams,[t.clickDaemonParams,null==e?void 0:e.clickDaemonParams])}}},73547:(e,t,i)=>{i.d(t,{j:()=>o});var r=i(87363),a=i(54283);function o(){const{currentTab:e}=(0,r.useContext)(a.o);return e}},48505:(e,t,i)=>{i.d(t,{I:()=>u});var r=i(87363),a=i(68927),o=i(38225),n=i(33249),s=i(55460),l=i(54283),c=i(77314),d=i(60669);function u(){const{abt:{flags:e}}=(0,c.b)(),t=(0,o.C)(e=>e.catalogSessionUid||""),i=(0,o.C)(n.Ec),u=(0,o.C)(e=>e.recentGames),m=(0,o.C)(e=>e.tagID),{currentTab:p,isErrorPage:h}=(0,r.useContext)(l.o),g=(0,a.UO)(),v=(0,d.mT)({currentTab:p,isErrorPage:void 0,recentGames:u,tagID:m}),_=(0,d.mq)(g);return{catalogSessionUid:t,currentTab:p,hasRecentGames:Boolean(v),page:(0,d.L8)({appId:i,currentTab:p,isErrorPage:h,tagID:m,partnerEventId:_}),showCallbackTimeout:(0,s.H)(e)}}},79090:(e,t,i)=>{i.d(t,{i:()=>o});var r=i(38225),a=i(94867);const o=()=>(0,r.C)(a.P3)},11972:(e,t,i)=>{i.d(t,{Z:()=>c});var r=Object.defineProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(e,t,i)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,l=(e,t)=>{for(var i in t||(t={}))o.call(t,i)&&s(e,i,t[i]);if(a)for(var i of a(t))n.call(t,i)&&s(e,i,t[i]);return e};function c(e,t){let i=!1;function r(e){e.state&&JSON.stringify(e.state)!==JSON.stringify(a)||(i=!0,t())}const a=l({},window.history.state);return window.history.pushState(e,"",`#${e}`),window.addEventListener("popstate",r),function(){window.removeEventListener("popstate",r),i||window.history.back()}}},49608:(e,t,i)=>{i.d(t,{Z:()=>r});const r=(()=>{let e=Promise.resolve();return(t,i)=>e=((t,i)=>{return r=function*(){try{yield e}catch(e){console.error(e)}finally{yield fetch(t,i)}},new Promise((e,t)=>{var i=e=>{try{o(r.next(e))}catch(e){t(e)}},a=e=>{try{o(r.throw(e))}catch(e){t(e)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,a);o((r=r.apply(void 0,null)).next())});var r})(t,i)})()},85802:(e,t,i)=>{i.d(t,{m:()=>o});var r=i(4545),a=i(85031);function o(){return Boolean((0,r.getDomainConfig)().useAiChat)&&!(0,a.P)().isPumpkin}},63275:(e,t,i)=>{i.d(t,{T:()=>a});var r=i(25963);const a=e=>"kz"===e?"kz":r.u5.includes(e)?"com":"ru"},36537:(e,t,i)=>{function r(){return Boolean(!1)}i.d(t,{b:()=>r}),i(4545)},11509:(e,t,i)=>{function r(e,t){const i=e.length>0&&"#"===e[0]?e.slice(1):e;return new URLSearchParams(i).get(t)}i.d(t,{n:()=>r})},50012:(e,t,i)=>{i.d(t,{E:()=>n});var r=i(29513),a=i(81395),o=i(11509);function n(e,t){var i;const n=new URLSearchParams(e.search).get("app");if(n)return n;const s=null==(i=(0,a.i)(t[r.jM]))?void 0:i.appID;if(s)return s;return(0,o.n)(e.hash,"app")||void 0}},96423:(e,t,i)=>{i.r(t)}}]);
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/_/build/client/game/desktop/yandex/6563.494bd740d80e14f54f5e.js.map